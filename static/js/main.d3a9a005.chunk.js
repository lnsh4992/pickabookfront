(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{298:function(e,t,a){e.exports=a.p+"static/media/dimbg.95e9fb1a.jpg"},303:function(e,t){e.exports="data:image/png;base64,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"},311:function(e,t,a){e.exports=a(639)},414:function(e,t,a){},465:function(e,t){},58:function(e,t,a){e.exports=a.p+"static/media/logo.41881db2.png"},639:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(8),o=a.n(l),i=(a(316),a(317),a(318),a(19)),c=a(20),s=a(22),u=a(21),m=a(23),h=(a(161),a(31)),p=a(14),d=a.n(p),f=function(e){return{type:"AUTH_SUCCESS",user:e}},g=function(e){return{type:"AUTH_FAIL",error:e}},E=function(){return localStorage.removeItem("user"),{type:"AUTH_LOGOUT"}},y=function(e){return function(t){setTimeout(function(){t(E())},1e3*e)}},b=function(e,t,a,n){return function(r){r({type:"AUTH_START"});var l={username:e,email:t,password1:a,password2:n};d.a.post("http://127.0.0.1:8000/rest-auth/registration/",l).then(function(t){var a={token:t.data.key,username:e,userId:t.data.user,expirationDate:new Date((new Date).getTime()+36e5)};localStorage.setItem("user",JSON.stringify(a)),r(f(a)),r(y(3600))}).catch(function(e){r(g(e))})}},v=a(308),w=a(297),k=a(659),S=a(662),F=a(655),A=a(660),I=a(661),C=a(648),j=a(651),O=a(654),D=a(652),x=a(284),R=a(290),T=a(646),B=a(120),L=a(58),N=a.n(L),z=(C.a.Item,B.a.Option,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFilter=function(e){a.setState({filter:e})},a.handleClose=function(){a.setState({show:!1})},a.handleFormSubmit=function(e){if(e.preventDefault(),a.setState({target:e.target.elements.tgtname.value}),console.log(a.state.filter),"book"===a.state.filter&&(console.log(e.target.elements.tgtname.value),d.a.get("http://127.0.0.1:8000/library/view/".concat(e.target.elements.tgtname.value)).then(function(e){a.props.history.push("/booklist/".concat(e.data.pk,"/"))}).catch(function(e){a.setState({show:!0})})),"author"===a.state.filter&&d.a.get("http://127.0.0.1:8000/authors/view/".concat(e.target.elements.tgtname.value)).then(function(e){console.log(e),a.props.history.push("/authors/".concat(e.data.pk,"/"))}).catch(function(e){a.setState({show:!0})}),"profile"===a.state.filter){var t=e.target.elements.tgtname.value.split(" ");d.a.get("http://127.0.0.1:8000/profile/search/".concat(t[0],"/").concat(t[1],"/")).then(function(e){a.props.history.push("/profile/".concat(e.data.pk,"/"))}).catch(function(e){a.setState({show:!0})})}},a.state={filter:"book",show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.isAuthenticated),r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css"}),r.a.createElement(j.a,{bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(j.a.Brand,{href:"#home"}," ",r.a.createElement("img",{src:N.a,style:{width:120}})),r.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(j.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},r.a.createElement(O.a.Link,{href:"/explore"},"Explore"),r.a.createElement(D.a,{title:"Profile",id:"basic-nav-dropdown"},r.a.createElement(D.a.Item,{href:"/profile"},"My Profile"),r.a.createElement(D.a.Item,{href:"/updateprof"},"Update Profile")),this.props.isAuthenticated?r.a.createElement(O.a.Link,{onClick:this.props.logout,href:"/login"},"Logout"):r.a.createElement(O.a.Link,{href:"/login"},"Login")),r.a.createElement(C.a,{inline:!0,onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement(x.a,{type:"text",placeholder:"Search",className:"mr-sm-2",name:"tgtname"}),r.a.createElement(R.a,{variant:"outline-success",type:"primary"},"Search")),r.a.createElement(D.a,{title:"Filter",id:"basic-nav-dropdown",onSelect:function(t){return e.handleFilter(t)}},r.a.createElement(D.a.Item,{eventKey:"book"},"Book"),r.a.createElement(D.a.Item,{eventKey:"author"},"Author"),r.a.createElement(D.a.Item,{eventKey:"profile"},"Profile")))),r.a.createElement(T.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,r.a.createElement("i",null,"Error:")," Not Found!")),r.a.createElement(T.a.Body,null,"Unfortunately, we can't find the ",r.a.createElement("b",null,this.state.filter)," ",this.state.target),r.a.createElement(T.a.Footer,null,r.a.createElement(R.a,{variant:"secondary",onClick:this.handleClose},"Close"))))}}]),t}(r.a.Component)),Q=Object(I.a)(Object(h.b)(null,function(e){return{logout:function(){return e(E())}}})(z)),M=(F.a.Header,F.a.Content),G=F.a.Footer,U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).LoginRoute=function(){a.props.history.push("/login")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement(F.a,{className:"layout"},r.a.createElement(Q,{history:this.props.history,isAuthenticated:this.props.isAuthenticated}),r.a.createElement(M,{style:{padding:"0 50px",background:"#020037"}},this.props.isAuthenticated?r.a.createElement("div",null,r.a.createElement(A.a,{style:{margin:"50px 0"}}),r.a.createElement("div",{style:{background:"#F6C564",padding:24,minHeight:280}},this.props.children)):r.a.createElement(T.a,{show:!0},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Not Logged In!")),r.a.createElement(T.a.Body,null,"Please Login, in order to access the contents of our site"),r.a.createElement(T.a.Footer,null,r.a.createElement(R.a,{variant:"primary",onClick:this.LoginRoute},"Login")))),r.a.createElement(G,{style:{textAlign:"center",background:"#020037",color:"white"}},"PickaBook: a CS 307 Project | Created by Myeongsu Kim, Logesh Roshan, Piyush Juneja, Shobhit Makhija."))}}]),t}(r.a.Component),_=Object(I.a)(Object(h.b)(null,function(e){return{logout:function(){return e(E())}}})(U)),Y=a(17),P=a(294),q=a(644),J=a(649),H=a(76),K=a(309),Z=(a(414),r.a.createElement(Y.a,{type:"loading",style:{fontSize:24},spin:!0})),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onAuth(t.userName,t.password)}),a.props.history.push("/profile/")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log(this.props.isAuthenticated);var e=null;this.props.error&&(e=r.a.createElement("p",null,this.props.error.message));var t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"parent",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:10,backgroundColor:"rgba(241, 101, 86, 0.6)"}},r.a.createElement("img",{src:N.a,alt:"logo",style:{width:250,height:93}}),e,this.props.loading?r.a.createElement(P.a,{indicator:Z}):r.a.createElement(q.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(q.a.Item,{className:"signForm",style:{width:250}},t("userName",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"user",style:{color:"rgba(0,0,0,.8)"}}),placeholder:"Username"}))),r.a.createElement(q.a.Item,{className:"signForm",style:{width:250}},t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"lock",style:{color:"rgba(0,0,0,.8)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(q.a.Item,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit",className:"signForm",style:{marginLeft:31,width:"75%"}},"Log in"),r.a.createElement("br",null),r.a.createElement(K.a,{style:{marginLeft:68,fontSize:16},to:"/forgot/"},"Forgot password"),r.a.createElement("br",null),r.a.createElement(K.a,{to:"/signup/",style:{marginLeft:78,color:"#25507d",fontSize:16}},"Register Now!"))))}}]),t}(r.a.Component),X=q.a.create({name:"normal_login"})(V),W=Object(h.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),d.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:t}).then(function(t){var n={token:t.data.key,username:e,userId:t.data.user,expirationDate:new Date((new Date).getTime()+36e5)};localStorage.setItem("user",JSON.stringify(n)),a(f(n)),a(y(3600))}).catch(function(e){a(g(e))})}}(t,a))}}})(X),$=a(298),ee=a.n($),te=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:ee.a,alt:"bg",style:{minHeight:"100%",minWidth:1024,width:"100%",height:"auto",position:"fixed",left:"0",top:"0"}}),r.a.createElement("div",null,e.children))},ae=a(113),ne={color:"rgba(0,0,0,0.8)"},re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(a.props.onAuth(t.userName,t.email,t.password,t.confirm),setTimeout(function(){this.props.history.push("/newprof/")}.bind(Object(ae.a)(Object(ae.a)(a))),1e3))})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"parent",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:10,backgroundColor:"rgba(241, 101, 86, 0.6)"}},r.a.createElement("img",{src:N.a,alt:"logo",style:{width:250,height:93}}),r.a.createElement(q.a,{onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{className:"signForm"},e("userName",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"user",style:ne}),placeholder:"Username"}))),r.a.createElement(q.a.Item,{className:"signForm"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"mail",style:ne}),placeholder:"Email"}))),r.a.createElement(q.a.Item,{className:"signForm"},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"lock",style:ne}),type:"password",placeholder:"Password"}))),r.a.createElement(q.a.Item,{className:"signForm"},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"lock",style:ne}),type:"password",placeholder:"Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(q.a.Item,{className:"signForm"},r.a.createElement(H.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Signup"),r.a.createElement(K.a,{style:{marginLeft:110,fontSize:16},to:"/login/"}," Login"))))}}]),t}(r.a.Component),le=q.a.create({name:"register"})(re),oe=Object(h.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a,n,r){return e(b(t,a,n,r))}}})(le),ie=a(647),ce=a(645),se=function(e){return console.log(e.data),r.a.createElement(ie.a,{grid:{gutter:16,column:4},pagination:{onChange:function(e){console.log(e)},pageSize:12},dataSource:e.data,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180},cover:r.a.createElement("img",{alt:e.title,src:e.image_url})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/booklist/"+e.pk},r.a.createElement("b",null,e.title))})))}})},ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.fetchBooks=function(){d.a.get("http://127.0.0.1:8000/library/booklist/").then(function(e){a.setState({books:e.data})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchBooks()}},{key:"render",value:function(){return r.a.createElement(se,{data:this.state.books})}}]),t}(r.a.Component),me=a(656),he=a(101),pe=a(61),de=a(653),fe=a(642),ge=(a(464),a(466),a(153)),Ee=a(657),ye=a(641),be=J.a.TextArea,ve={position:"absolute",right:20,background:"#DDA72F"},we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchData=function(){var e=a.props.bookID;d.a.get("http://127.0.0.1:8000/qanswer/question/".concat(e)).then(function(e){a.setState({questions:e.data,drawVisible:!1,drawQuestion:!1})}).catch(function(e){return console.log(e)})},a.componentDidMount=function(){a.fetchData()},a.handleAnswerSubmit=function(){var e=a.props.bookID,t=a.state.qID,n=localStorage.getItem("profID");a.state.answer?d.a.post("http://127.0.0.1:8000/qanswer/answer/create/",{profile:n,book:e,question:t,answer:a.state.answer}).then(function(e){console.log(e),a.fetchData()}).catch(function(e){return console.log(e)}):a.setState({error:!0})},a.showDrawer=function(e){a.setState({drawVisible:!0,qID:e}),console.log(a.state)},a.closeDrawer=function(){a.setState({drawVisible:!1})},a.showQuestionDrawer=function(){a.setState({drawQuestion:!0}),console.log(a.state)},a.closeQuestionDrawer=function(){a.setState({drawQuestion:!1})},a.handleQuestionChange=function(e){a.setState({question:e.target.value})},a.handleQuestionSubmit=function(){var e=a.props.bookID,t=localStorage.getItem("profID");a.state.question?d.a.post("http://127.0.0.1:8000/qanswer/question/create/",{profile:t,book:e,question:a.state.question}).then(function(e){console.log(e),a.fetchData()}).catch(function(e){return console.log(e)}):a.setState({error:!0})},a.handleAnswerChange=function(e){a.setState({answer:e.target.value})},a.ErrorMessage=function(){me.a.error("Please Fill The Form Before Submitting!"),a.setState({error:!1})},a.like=function(){a.setState({likes:1,dislikes:0,action:"liked"})},a.dislike=function(){a.setState({likes:0,dislikes:1,action:"disliked"})},a.state={questions:[],likes:0,dislikes:0,action:null,img:null,drawVisible:!1,drawQuestion:!1,error:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.likes,n=t.dislikes,l=t.action;r.a.createElement("span",null,r.a.createElement(ge.a,{title:"Like"},r.a.createElement(Y.a,{type:"like",theme:"liked"===l?"filled":"outlined",onClick:this.like})),r.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},a)),r.a.createElement("span",null,r.a.createElement(ge.a,{title:"Dislike"},r.a.createElement(Y.a,{type:"dislike",theme:"disliked"===l?"filled":"outlined",onClick:this.dislike})),r.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},n)),r.a.createElement("span",{onClick:function(){return e.showDrawer()}},"Reply to");return r.a.createElement("div",null,this.state.error?this.ErrorMessage():r.a.createElement("b",null),r.a.createElement(Ee.a,{title:"Answer",placement:"bottom",onClose:this.closeDrawer,visible:this.state.drawVisible,style:{overflow:"auto",height:"calc(100% - 108px)",paddingBottom:"108px"}},r.a.createElement(q.a,{layout:"vertical",hideRequiredMark:!0},r.a.createElement(q.a.Item,{label:"Answer"},r.a.createElement(be,{onChange:this.handleAnswerChange,name:"answer",placeholder:"Answer The Question",autosize:{minRows:2}}))),r.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},r.a.createElement(H.a,{onClick:this.closeDrawer,style:{marginRight:8}},"Cancel"),r.a.createElement(H.a,{onClick:this.handleAnswerSubmit,type:"primary"},"Submit"))),r.a.createElement(Ee.a,{title:"Question",placement:"bottom",onClose:this.closeQuestionDrawer,visible:this.state.drawQuestion,style:{overflow:"auto",height:"calc(100% - 108px)",paddingBottom:"108px"}},r.a.createElement(q.a,{layout:"vertical",hideRequiredMark:!0},r.a.createElement(q.a.Item,{label:"Question"},r.a.createElement(be,{onChange:this.handleQuestionChange,name:"question",placeholder:"Ask a Question",autosize:{minRows:2}}))),r.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},r.a.createElement(H.a,{onClick:this.closeQuestionDrawer,style:{marginRight:8}},"Cancel"),r.a.createElement(H.a,{onClick:this.handleQuestionSubmit,type:"primary"},"Submit"))),r.a.createElement(ce.a,{title:r.a.createElement("div",null,"Questions",r.a.createElement(H.a,{type:"primary",onClick:this.showQuestionDrawer,style:ve},"New Question")),headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement(ie.a,{className:"comment-list",itemLayout:"horizontal",dataSource:this.state.questions,renderItem:function(t){return r.a.createElement(ye.a,{actions:[r.a.createElement("span",{onClick:function(){return e.showDrawer(t.pk)}},"Reply to")],author:r.a.createElement("div",null,r.a.createElement("a",{href:"/profile/"+t.profile.pk},t.profile.first_name+" "+t.profile.last_name),t.profile.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled",twoToneColor:"#DAA520"})),avatar:r.a.createElement(fe.a,{src:t.profile.avatar}),content:t.question,datetime:t.creation_date},t.answers.length>0?r.a.createElement(ie.a,{className:"comment-list",itemLayout:"horizontal",dataSource:t.answers,renderItem:function(e){return r.a.createElement(ye.a,{author:r.a.createElement("div",null,r.a.createElement("a",{href:"/profile/"+e.profile.pk},e.profile.first_name+" "+e.profile.last_name),e.profile.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled",twoToneColor:"#DAA520"})),avatar:r.a.createElement(fe.a,{src:e.profile.avatar}),content:e.answer,datetime:e.creation_date})}}):r.a.createElement("b",{syle:{marginLeft:200}},"No replies"))}})))}}]),t}(r.a.Component),ke=q.a.Item,Se=J.a.TextArea,Fe=(B.a.Option,["terrible","terrible","bad","bad","normal","normal","good","good","wonderful","wonderful"]),Ae=["terrible","bad","normal","good","wonderful"],Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){if(e.preventDefault(),""!==e.target.elements.title.value&&""!==e.target.elements.review.value){var t=localStorage.getItem("profID"),n={title:e.target.elements.title.value,content:e.target.elements.review.value,rating:a.state.value,prof:t,book:a.props.bookID};console.log(n),d.a.post("http://127.0.0.1:8000/bookreview/create/",n).then(function(e){a.props.fetchReviews()}).catch(function(e){return console.log(e)})}else a.setState({error:!0})},a.handleChange=function(e){a.setState({value:e})},a.ErrorMessage=function(){me.a.error("Please Fill The Form Before Submitting!"),a.setState({error:!1})},a.state={value:3,error:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement("div",null,this.state.error?this.ErrorMessage():r.a.createElement("b",null),r.a.createElement(q.a,{layout:"horizontal",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement(he.a,{gutter:20},r.a.createElement(pe.a,{span:12},r.a.createElement(ke,Object.assign({label:"Title"},{labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(J.a,{name:"title",placeholder:"Title"}))),r.a.createElement(pe.a,{span:6},r.a.createElement(ke,null,r.a.createElement("span",null,r.a.createElement(de.a,{allowHalf:!0,tooltips:Ae,onChange:this.handleChange,initialValue:3.5}),t?r.a.createElement("span",{className:"ant-rate-text"},Fe[2*this.state.value-1]):"")))),r.a.createElement(he.a,{gutter:20},r.a.createElement(pe.a,{span:18},r.a.createElement(ke,{label:"Review"},r.a.createElement(Se,{name:"review",placeholder:"Review",autosize:{minRows:2}})))),r.a.createElement(ke,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit",style:{background:"#DDA72F"}},"Submit!"))))}}]),t}(r.a.Component),Ce={textAlign:"left"},je={marginRight:8,color:"#378695"},Oe={marginRight:8,color:"#900e01"},De=function(e){var t=e.type,a=e.text,n=e.onClick,l=e.theme,o=e.style;return r.a.createElement("span",null,r.a.createElement(Y.a,{type:t,style:o,onClick:n,theme:l}),a)},xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.bookID;a._isMounted=!0;var t=localStorage.getItem("profID");d.a.get("http://127.0.0.1:8000/profile/favorites/".concat(t)).then(function(t){t.data.favorites.some(function(t){return t.pk==e})&&a.setState({iconTheme:a.state.following?"outlined":"filled",following:!a.state.following})}).catch(function(e){console.log(e)}),d.a.get("http://127.0.0.1:8000/library/booklist/".concat(e)).then(function(e){a.setState({title:e.data.title,author_name:e.data.author_name,publication_date:e.data.publication_date,image_url:e.data.image_url,genre:a.state[e.data.genre],rating:e.data.rating,number_of_reviews:e.data.number_of_reviews,synopsis:e.data.synopsis}),d.a.get("http://127.0.0.1:8000/authors/view/".concat(a.state.author_name)).then(function(e){a.setState({authID:e.data.pk})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}),a.fetchReviews()},a.fetchReviews=function(){var e=a.props.match.params.bookID;d.a.get("http://127.0.0.1:8000/bookreview/".concat(e)).then(function(e){a.setState({reviews:e.data,max_length:e.data.length,current_length:Math.min(3,e.data.length)});for(var t=0;t<a.state.reviews.length;++t)a.state.reviews[t].isLiked=!1,a.state.reviews[t].isDisliked=!1}).catch(function(e){return console.log(e)})},a.handleInfiniteOnLoad=function(){a.state.data;if(a.setState({loading:!0,current_length:Math.min(a.state.current_length+3,a.state.max_length)}),console.log(a.state),a.state.current_length>=a.state.max_length)return me.a.warning("Infinite List loaded all"),void a.setState({hasMore:!1,loading:!1})},a.handleFollow=function(){var e=localStorage.getItem("profID"),t=a.props.match.params.bookID;d.a.put("http://127.0.0.1:8000/profile/addfavorite/".concat(e),{favorites:[t]}).then(function(e){a.setState({iconTheme:a.state.following?"outlined":"filled",following:!a.state.following}),console.log(a.state)}).catch(function(e){return console.log(e)})},a.handleLike=function(e,t){var n=a.state.reviews.filter(function(t){return t.pk===e})[0];n.isDisliked||n.isLiked||d.a.put("http://127.0.0.1:8000/bookreview/like/".concat(e),{likes:"like"===t?1:0}).then(function(e){"like"===t?(n.isLiked=!0,n.likes+=1):(n.isDisliked=!0,n.dislikes+=1),a.setState(a.state)}).catch(function(e){return console.log(e)})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction",reviews:[],loading:!1,hasMore:!0,following:!1,iconTheme:"outlined"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,console.log("Unmounting")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(he.a,{gutter:20,style:{marginBottom:8},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:4},r.a.createElement(ce.a,{bodyStyle:{padding:0}},r.a.createElement("img",{src:this.state.image_url,style:{width:194,height:285},width:"100%",height:"100%"}))),r.a.createElement(pe.a,{span:18},r.a.createElement(ce.a,{title:r.a.createElement("div",null,this.state.title,r.a.createElement(Y.a,{style:{marginLeft:10,color:"#fb928e"},type:"heart",theme:this.state.iconTheme,twoToneColor:"#eb2f96",onClick:this.handleFollow})),headStyle:{fontSize:20,color:"white",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Author: ")),r.a.createElement("a",{href:"/authors/"+this.state.authID}," ",this.state.author_name," ")),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Date of publication: ")),this.state.publication_date),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Genre: ")),this.state.genre),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Rating: ")),this.state.rating),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Number of reviews: ")),this.state.number_of_reviews)))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:8},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{style:Ce,title:"Synopsis/blurb",headStyle:{fontSize:20,color:"white",textAlign:"left",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement("p",null,this.state.synopsis)))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:8},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{title:r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},"Reviews"),headStyle:{fontSize:20,color:"white",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement(ie.a,{itemLayout:"vertical",size:"large",dataSource:this.state.reviews,renderItem:function(t){return r.a.createElement(ie.a.Item,{key:t.id,actions:[r.a.createElement(De,{type:"like-o",text:t.likes,onClick:function(){return e.handleLike(t.pk,"like")},theme:t.isLiked?"filled":"outlined",style:je}),r.a.createElement(De,{type:"dislike-o",text:t.dislikes,onClick:function(){return e.handleLike(t.pk,"dislike")},theme:t.isDisliked?"filled":"outlined",style:Oe})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:t.rating})," ",t.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:t.prof.avatar}),title:t.title,description:r.a.createElement("div",null,r.a.createElement("a",{href:"/profile/"+t.prof.pk},t.prof.first_name+" "+t.prof.last_name),t.prof.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled",twoToneColor:"#DAA520"}))}),r.a.createElement("div",null,t.content))}})))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:8},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{title:"Add A Review",headStyle:{fontSize:20,color:"white",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement(Ie,{bookID:this.props.match.params.bookID,fetchReviews:this.fetchReviews})))),r.a.createElement(he.a,{gutter:20,type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(we,{bookID:this.props.match.params.bookID}))))}}]),t}(r.a.Component),Re=(r.a.Component,xe),Te=q.a.Item,Be=J.a.TextArea,Le=(B.a.Option,["terrible","terrible","bad","bad","normal","normal","good","good","wonderful","wonderful"]),Ne=["terrible","bad","normal","good","wonderful"],ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){if(e.preventDefault(),""!==e.target.elements.title.value&&""!==e.target.elements.review.value){var t=localStorage.getItem("profID"),n={title:e.target.elements.title.value,content:e.target.elements.review.value,rating:a.state.value,prof:t,author:a.props.authID};console.log(n),d.a.post("http://127.0.0.1:8000/authreview/create/",n).then(function(e){a.props.fetchReviews()}).catch(function(e){return console.log(e)})}else a.setState({error:!0})},a.handleChange=function(e){a.setState({value:e})},a.ErrorMessage=function(){me.a.error("Please Fill The Form Before Submitting!"),a.setState({error:!1})},a.state={value:3,error:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement("div",null,this.state.error?this.ErrorMessage():r.a.createElement("b",null),r.a.createElement(q.a,{layout:"horizontal",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement(he.a,{gutter:20},r.a.createElement(pe.a,{span:12},r.a.createElement(Te,Object.assign({label:"Title"},{labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(J.a,{name:"title",placeholder:"Title"}))),r.a.createElement(pe.a,{span:6},r.a.createElement(Te,null,r.a.createElement("span",null,r.a.createElement(de.a,{allowHalf:!0,tooltips:Ne,onChange:this.handleChange,initialValue:3.5}),t?r.a.createElement("span",{className:"ant-rate-text"},Le[2*this.state.value-1]):"")))),r.a.createElement(he.a,{gutter:20},r.a.createElement(pe.a,{span:18},r.a.createElement(Te,{label:"Review"},r.a.createElement(Be,{name:"review",placeholder:"Review",autosize:{minRows:2}})))),r.a.createElement(Te,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit",style:{background:"#DDA72F"}},"Submit!"))))}}]),t}(r.a.Component),Qe={textAlign:"left"},Me={marginRight:8,color:"#378695"},Ge={marginRight:8,color:"#900e01"},Ue=function(e){var t=e.type,a=e.text,n=e.onClick,l=e.theme,o=e.style;return r.a.createElement("span",null,r.a.createElement(Y.a,{type:t,style:o,onClick:n,theme:l}),a)},_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.authID;a._isMounted=!0;var t=localStorage.getItem("profID");d.a.get("http://127.0.0.1:8000/profile/following/".concat(t)).then(function(t){t.data.following.some(function(t){return t.pk==e})&&(a.style={marginLeft:10,color:a.state.following?"#daa520":"#b22222"},a.setState({iconType:a.state.following?"user-add":"user-delete",following:!a.state.following}))}).catch(function(e){console.log(e)}),d.a.get("http://127.0.0.1:8000/authors/".concat(e)).then(function(e){a.setState({title:e.data.name,birthdate:e.data.birthdate,numFollowers:e.data.numFollowers,image_url:e.data.image_url,genre:a.state[e.data.genre],rating:e.data.review,number_of_reviews:e.data.review_count,synopsis:e.data.bio}),d.a.get("http://127.0.0.1:8000/library/authorbooks/".concat(e.data.name)).then(function(e){a.setState({books:e.data})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}),a.fetchReviews()},a.fetchReviews=function(){var e=a.props.match.params.authID;d.a.get("http://127.0.0.1:8000/authreview/".concat(e)).then(function(e){a.setState({auth_reviews:e.data,max_length:e.data.length,current_length:Math.min(3,e.data.length)});for(var t=0;t<a.state.auth_reviews.length;++t)a.state.auth_reviews[t].isLiked=!1,a.state.auth_reviews[t].isDisliked=!1}).catch(function(e){return console.log(e)})},a.handleFollow=function(){var e=localStorage.getItem("profID"),t=a.props.match.params.authID;d.a.put("http://127.0.0.1:8000/profile/addfollow/".concat(e),{following:[t]}).then(function(e){a.style={marginLeft:10,color:a.state.following?"#daa520":"#b22222"},a.setState({iconType:a.state.following?"user-add":"user-delete",following:!a.state.following})}).catch(function(e){return console.log(e)})},a.handleLike=function(e,t){var n=a.state.auth_reviews.filter(function(t){return t.pk===e})[0];n.isDisliked||n.isLiked||d.a.put("http://127.0.0.1:8000/authreview/like/".concat(e),{likes:"like"===t?1:0}).then(function(e){"like"===t?(n.isLiked=!0,n.likes+=1):(n.isDisliked=!0,n.dislikes+=1),a.setState(a.state)}).catch(function(e){return console.log(e)})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction",books:[],auth_reviews:[],following:!1,iconType:"user-add"},a.style={marginLeft:10,color:"#daa520"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,console.log("Unmounting")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:4},r.a.createElement(ce.a,{bodyStyle:{padding:0}},r.a.createElement("img",{src:this.state.image_url,style:{width:194,height:285},width:"100%",height:"100%"}))),r.a.createElement(pe.a,{span:18},r.a.createElement(ce.a,{title:r.a.createElement("div",null,this.state.title,r.a.createElement(Y.a,{style:this.style,type:this.state.iconType,onClick:this.handleFollow})),headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Birthdate: ")),this.state.birthdate),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Number of Followers: ")),this.state.numFollowers),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Genre: ")),this.state.genre),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Rating: ")),this.state.rating),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Number of reviews: ")),this.state.number_of_reviews)))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{style:Qe,title:r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},"About the Author"),headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement("p",null,this.state.synopsis)))),r.a.createElement(ie.a,{grid:{gutter:16,column:4},style:{paddingTop:20,paddingLeft:55,paddingBottom:20},dataSource:this.state.books,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:240},cover:r.a.createElement("img",{alt:e.title,src:e.image_url,style:{width:238,height:295},width:"100%",height:"100%"})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/booklist/"+e.pk},r.a.createElement("b",null,e.title))})))}}),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{title:r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},"Author Reviews"),headStyle:{fontSize:20,color:"white",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement(ie.a,{itemLayout:"vertical",size:"large",dataSource:this.state.auth_reviews,renderItem:function(t){return r.a.createElement(ie.a.Item,{key:t.id,actions:[r.a.createElement(Ue,{type:"like-o",text:t.likes,onClick:function(){return e.handleLike(t.pk,"like")},theme:t.isLiked?"filled":"outlined",style:Me}),r.a.createElement(Ue,{type:"dislike-o",text:t.dislikes,onClick:function(){return e.handleLike(t.pk,"dislike")},theme:t.isDisliked?"filled":"outlined",style:Ge})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:t.rating})," ",t.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:t.prof.avatar}),title:t.title,description:r.a.createElement("div",null,r.a.createElement("a",{href:"/profile/"+t.prof.pk},t.prof.first_name+" "+t.prof.last_name),t.prof.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled",twoToneColor:"#DAA520"}))}),r.a.createElement("div",null,t.content))}})))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:8},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{title:"Add A Review",headStyle:{fontSize:20,color:"white",fontStyle:"italic",fontFamily:"Georgia",background:"#020037"}},r.a.createElement(ze,{authID:this.props.match.params.authID,fetchReviews:this.fetchReviews})))))}}]),t}(r.a.Component),Ye=(r.a.Component,_e),Pe=a(650),qe=a(663),Je=(r.a.createElement("div",null,r.a.createElement(ie.a,{size:"small",dataSource:["One","Two","Three"],renderItem:function(e){return r.a.createElement(ie.a.Item,null,e)}})),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){d.a.delete("http://127.0.0.1:8000/notification/destroy/".concat(t)),a.props.history.push("/booklist/"+e)},a.state={notifications:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("profID");d.a.get("http://127.0.0.1:8000/notification/".concat(t)).then(function(t){e.setState({notifications:t.data,length:t.data.length})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Pe.a,{overlay:r.a.createElement("div",null,r.a.createElement(ie.a,{size:"small",bordered:!0,style:{width:210,backgroundColor:"#555",marginLeft:-70},dataSource:this.state.notifications,renderItem:function(t){return r.a.createElement(ie.a.Item,{onClick:function(){return e.handleClick(t.book,t.pk)}},t.isBook>0?r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:"http://akgerber.com/wp-content/uploads/Open_Book_Logo_1small.png"})}):r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuAiFK0gPiOZF2szsAfT939_vw7epX303IAcpkLyX-nH1t7qsXEw"})}),r.a.createElement("a",{href:"#"},t.text))}})),trigger:["click"]},r.a.createElement(qe.a,{count:this.state.length},r.a.createElement("div",null,r.a.createElement(H.a,{ghost:!0},r.a.createElement(Y.a,{type:"bell"}))))))}}]),t}(r.a.Component)),He={textAlign:"left"},Ke={marginRight:8,color:"#378695"},Ze={marginRight:8,color:"#900e01"},Ve=function(e){var t=e.type,a=e.text,n=e.onClick,l=e.theme,o=e.style;return r.a.createElement("span",null,r.a.createElement(Y.a,{type:t,style:o,onClick:n,theme:l}),a)},Xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={profile:{}},a.fetchReviews=function(){var e=a.state.profID;d.a.get("http://127.0.0.1:8000/bookreview/user/".concat(e)).then(function(e){console.log(e),a.setState({reviews:e.data,max_length:e.data.length,current_length:Math.min(3,e.data.length)})}).catch(function(e){return console.log(e)})},a.fetchAuthReviews=function(){var e=a.state.profID;d.a.get("http://127.0.0.1:8000/authreview/user/".concat(e)).then(function(e){console.log(e),a.setState({authReviews:e.data,max_length:e.data.length,current_length:Math.min(3,e.data.length)})}).catch(function(e){return console.log(e)})},a.handleRec=function(e){var t=a.state.profID;d.a.put("http://127.0.0.1:8000/profile/remrecommended/".concat(t),{recommended:[e]})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction",image_url:"https://www.flynz.co.nz/wp-content/uploads/profile-placeholder.png",avatar:a.state.image_url,reviews:[],authReviews:[],recommended:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://127.0.0.1:8000/profile/".concat(this.props.userid)).then(function(t){e.setState({first_name:t.data.first_name,last_name:t.data.last_name,review_count:t.data.review_count,creation_date:t.data.creation_date,bio:t.data.bio,genre:t.data.genre,books:t.data.favorites,recommended:t.data.recommended,authors:t.data.following,avatar:t.data.avatar,profID:t.data.pk}),localStorage.setItem("profID",t.data.pk),e.fetchReviews(),e.fetchAuthReviews()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:4},r.a.createElement(ce.a,{bodyStyle:{padding:0}},r.a.createElement("img",{src:this.state.avatar,style:{width:194,height:219},width:"100%",height:"100%"}))),r.a.createElement(pe.a,{span:18},r.a.createElement(ce.a,{title:r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},r.a.createElement(pe.a,{span:22},this.state.first_name+" "+this.state.last_name,this.state.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled"})),r.a.createElement(Je,{history:this.props.history})),headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"User Since: ")),this.state.creation_date),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Review Count: ")),this.state.review_count),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Favorite Genre: ")),this.state[this.state.genre])))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{style:He,title:"About Me",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement("p",null,this.state.bio)))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:11},r.a.createElement(ce.a,{title:"Favorites",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},grid:{gutter:0,column:2},dataSource:this.state.books,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180,background:"#F6C564",color:"white"},cover:r.a.createElement("img",{alt:e.title,src:e.image_url,style:{width:178,height:250}})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/booklist/"+e.pk},r.a.createElement("b",null,e.title))})))}}))),r.a.createElement(pe.a,{span:11},r.a.createElement(ce.a,{title:"Following",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},grid:{gutter:0,column:2},dataSource:this.state.authors,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180,background:"#F6C564",color:"white"},cover:r.a.createElement("img",{alt:e.name,src:e.image_url,style:{width:178,height:250}})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/authors/"+e.pk},r.a.createElement("b",null,e.name))})))}})))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{style:He,title:"Recommendations",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(ie.a,{pagination:{pageSize:4},grid:{gutter:0,column:4},dataSource:this.state.recommended,renderItem:function(t){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180,background:"#F6C564"},cover:r.a.createElement("img",{alt:t.title,src:t.image_url,style:{width:178,height:250}})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{onClick:function(){return e.handleRec(t.pk)},href:"/booklist/"+t.pk},r.a.createElement("b",null,t.title))})))}})))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement(ce.a,{style:He,title:"My Reviews",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(ce.a,{style:{textAlign:"left",width:1100},title:"Books",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},itemLayout:"vertical",size:"large",dataSource:this.state.reviews,renderItem:function(e){return r.a.createElement(ie.a.Item,{key:e.id,actions:[r.a.createElement(Ve,{type:"like-o",text:e.likes,theme:"outlined",style:Ke}),r.a.createElement(Ve,{type:"dislike-o",text:e.dislikes,theme:"outlined",style:Ze})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:e.rating})," ",e.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:e.book.image_url}),title:e.title,description:r.a.createElement("a",{href:"/booklist/"+e.book.pk},e.book.title)}),r.a.createElement("div",null,e.content))}}))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(ce.a,{style:{textAlign:"left",width:1100},title:"Authors",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},itemLayout:"vertical",size:"large",dataSource:this.state.authReviews,renderItem:function(e){return r.a.createElement(ie.a.Item,{key:e.id,actions:[r.a.createElement(Ve,{type:"like-o",text:e.likes,theme:"outlined",style:Ke}),r.a.createElement(Ve,{type:"dislike-o",text:e.dislikes,theme:"outlined",style:Ze})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:e.rating})," ",e.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:e.author.image_url}),title:e.title,description:r.a.createElement("a",{href:"/authors/"+e.author.pk},e.author.name)}),r.a.createElement("div",null,e.content))}})))))))}}]),t}(r.a.Component),We=Object(h.b)(function(e){return{userid:e.userId}})(Xe),$e=a(36),et={textAlign:"center"},tt={marginRight:8,color:"#378695"},at={marginRight:8,color:"#900e01"},nt=function(e){var t=e.type,a=e.text,n=e.onClick,l=e.theme,o=e.style;return r.a.createElement("span",null,r.a.createElement(Y.a,{type:t,style:o,onClick:n,theme:l}),a)},rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchBookReviews=function(){var e=a.props.match.params.profileID;d.a.get("http://127.0.0.1:8000/bookreview/user/".concat(e)).then(function(e){a.setState({reviews:e.data})}).catch(function(e){return console.log(e)})},a.fetchAuthReviews=function(){var e=a.props.match.params.profileID;d.a.get("http://127.0.0.1:8000/authreview/user/".concat(e)).then(function(e){a.setState({authReviews:e.data})}).catch(function(e){return console.log(e)})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.profileID;this.fetchBookReviews(),this.fetchAuthReviews(),d.a.get("http://127.0.0.1:8000/profile/user/".concat(t)).then(function(t){e.setState({first_name:t.data.first_name,last_name:t.data.last_name,private:t.data.isPrivate,review_count:t.data.review_count,creation_date:t.data.creation_date,bio:t.data.bio,genre:t.data.genre,avatar:t.data.avatar,books:t.data.favorites,authors:t.data.following}),console.log(e.state)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:4},r.a.createElement(ce.a,{bodyStyle:{padding:0},style:{marginLeft:30}},r.a.createElement("img",{src:this.state.avatar,style:{width:179,height:216},width:"100%",height:"100%"}))),r.a.createElement(pe.a,{span:18},r.a.createElement($e.a,null,r.a.createElement($e.c,null,r.a.createElement(ce.a,{style:{marginRight:0},title:r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},r.a.createElement(pe.a,{span:22},this.state.first_name+" "+this.state.last_name,this.state.review_count>10&&r.a.createElement(Y.a,{style:{marginLeft:10,color:"#DAA520"},type:"crown",theme:"filled"}))),headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white"}},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"User Since: ")),!this.state.private&&this.state.creation_date),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Review Count: ")),!this.state.private&&this.state.review_count),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,"Favorite Genre: ")),!this.state.private&&this.state[this.state.genre])),this.state.private&&r.a.createElement($e.b,{className:"flex-center",overlay:"black-strong"},r.a.createElement("p",{className:"black-text",style:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia"}},"Private")))))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement($e.a,null,r.a.createElement($e.c,null,r.a.createElement(ce.a,{style:et,title:"About Me",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement("p",null,!this.state.private&&this.state.bio)),this.state.private&&r.a.createElement($e.b,{className:"flex-center",overlay:"black-strong"},r.a.createElement("p",{className:"black-text",style:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia"}},"Private")))))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:11},r.a.createElement($e.a,null,r.a.createElement($e.c,null,r.a.createElement(ce.a,{style:{height:522,marginLeft:0},headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"},title:"Favorites"},!this.state.private&&r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},grid:{gutter:0,column:2},dataSource:this.state.books,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180,background:"#F6C564",color:"white"},cover:r.a.createElement("img",{alt:e.title,src:e.image_url,style:{width:178,height:250}})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/booklist/"+e.pk},r.a.createElement("b",null,e.title))})))}})),this.state.private&&r.a.createElement($e.b,{className:"flex-center",overlay:"black-strong"},r.a.createElement("p",{className:"black-text",style:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia"}},"Private"))))),r.a.createElement(pe.a,{span:11},r.a.createElement($e.a,null,r.a.createElement($e.c,null,r.a.createElement(ce.a,{style:{height:522,marginRight:0},headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"},title:"Following"},!this.state.private&&r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},grid:{gutter:0,column:2},dataSource:this.state.authors,renderItem:function(e){return r.a.createElement(ie.a.Item,null,r.a.createElement(ce.a,{hoverable:!0,style:{width:180,background:"#F6C564",color:"white"},cover:r.a.createElement("img",{alt:e.name,src:e.image_url,style:{width:178,height:250}})},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{href:"/authors/"+e.pk},r.a.createElement("b",null,e.name))})))}})),this.state.private&&r.a.createElement($e.b,{className:"flex-center",overlay:"black-strong"},r.a.createElement("p",{className:"black-text",style:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia"}},"Private")))))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(pe.a,{span:22},r.a.createElement($e.a,null,r.a.createElement($e.c,null,r.a.createElement(ce.a,{style:{textAlign:"left",minHeight:500},title:"User's Reviews",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},!this.state.private&&r.a.createElement("div",null,r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(ce.a,{style:{textAlign:"left",width:1100},title:"Books",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},itemLayout:"vertical",size:"large",dataSource:this.state.reviews,renderItem:function(e){return r.a.createElement(ie.a.Item,{key:e.id,actions:[r.a.createElement(nt,{type:"like-o",text:e.likes,theme:"outlined",style:tt}),r.a.createElement(nt,{type:"dislike-o",text:e.dislikes,theme:"outlined",style:at})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:e.rating})," ",e.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:e.book.image_url}),title:e.title,description:r.a.createElement("a",{href:"/booklist/"+e.book.pk},e.book.title)}),r.a.createElement("div",null,e.content))}}))),r.a.createElement(he.a,{gutter:20,style:{marginBottom:16},type:"flex",justify:"center"},r.a.createElement(ce.a,{style:{textAlign:"left",width:1100},title:"Authors",headStyle:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia",background:"#020037",color:"white",textAlign:"left"}},r.a.createElement(ie.a,{pagination:{onChange:function(e){console.log(e)},pageSize:2},itemLayout:"vertical",size:"large",dataSource:this.state.authReviews,renderItem:function(e){return r.a.createElement(ie.a.Item,{key:e.id,actions:[r.a.createElement(nt,{type:"like-o",text:e.likes,theme:"outlined",style:tt}),r.a.createElement(nt,{type:"dislike-o",text:e.dislikes,theme:"outlined",style:at})],extra:r.a.createElement("div",null,r.a.createElement(de.a,{disabled:!0,allowHalf:!0,defaultValue:e.rating})," ",e.creation_date," ")},r.a.createElement(ie.a.Item.Meta,{avatar:r.a.createElement(fe.a,{src:e.author.image_url}),title:e.title,description:r.a.createElement("a",{href:"/authors/"+e.author.pk},e.author.name)}),r.a.createElement("div",null,e.content))}}))))),this.state.private&&r.a.createElement($e.b,{className:"flex-center",overlay:"black-strong"},r.a.createElement("p",{className:"black-text",style:{fontSize:20,fontStyle:"italic",fontFamily:"Georgia"}},"Private")))))))}}]),t}(r.a.Component),lt=a(643),ot=q.a.Item,it=J.a.TextArea,ct=B.a.Option,st=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFileSelect=function(e){a.setState({selectedFile:e.target.files[0],isSelected:!0})},a.handleFormSubmit=function(e,t){e.preventDefault(),a.props.form.validateFields(function(n,r){n||a.postData(e,t)})},a.postData=function(e,t){d.a.put("http://127.0.0.1:8000/profile/update/".concat(t),{first_name:e.target.elements.firstname.value,last_name:e.target.elements.lastname.value,bio:e.target.elements.bio.value,genre:a.state.genre,isPrivate:a.state.private}).then(function(e){if(a.state.isSelected){var t=new FormData;t.append("avatar",a.state.selectedFile),fetch("http://127.0.0.1:8000/profile/updatepicprof/".concat(a.state.profID),{method:"PUT",headers:{Accept:"application/json, text/plain, */*"},body:t}).then(function(e){return e.json()}).then(function(e){a.props.history.push("/profile")}).catch(function(e){console.log(e)})}else a.props.history.push("/profile")}).catch(function(e){return console.log(e)})},a.handleGenreChange=function(e){a.setState({genre:e})},a.handlePrivacyChange=function(){a.setState({private:!a.state.private})},a.state={genre:"FA",private:!1,isSelected:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://127.0.0.1:8000/profile/".concat(this.props.userid)).then(function(t){e.setState({profID:t.data.pk})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:function(t){return e.handleFormSubmit(t,e.props.userid)}},r.a.createElement(ot,{label:"First Name"},t("firstname",{rules:[{required:!0,message:"Please input your First Name!"}]})(r.a.createElement(J.a,{name:"firstname",placeholder:"First name"}))),r.a.createElement(ot,{label:"Last Name"},t("lastname",{rules:[{required:!0,message:"Please input your Last Name!"}]})(r.a.createElement(J.a,{name:"lastname",placeholder:"Last name"}))),r.a.createElement(ot,{label:"Bio"},t("bio",{rules:[{required:!0,message:"Please Tell Us Something About Yourself!"}]})(r.a.createElement(it,{name:"bio",placeholder:"About Me!",autosize:{minRows:2}}))),r.a.createElement(ot,{label:"Genre"},r.a.createElement(B.a,{name:"genre",defaultValue:"FA",onChange:function(t){return e.handleGenreChange(t)}},r.a.createElement(ct,{value:"FA"},"Fantasy"),r.a.createElement(ct,{value:"RO"},"Romance"),r.a.createElement(ct,{value:"TR"},"Thriller"),r.a.createElement(ct,{value:"MY"},"Mystery"),r.a.createElement(ct,{value:"BI"},"Biography"),r.a.createElement(ct,{value:"FI"},"Fiction"),r.a.createElement(ct,{value:"NF"},"Non Fiction"),r.a.createElement(ct,{value:"SF"},"Science Fiction"))),r.a.createElement(q.a.Item,{label:"Privacy"},r.a.createElement(lt.a,{name:"switch",checked:this.state.private,onClick:this.handlePrivacyChange})),r.a.createElement(ot,{label:"Avatar"},r.a.createElement("input",{type:"file",name:"",id:"",onChange:this.handleFileSelect})),r.a.createElement(ot,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit"},"Submit!"))))}}]),t}(r.a.Component),ut=q.a.create({name:"profileregister"})(st),mt=Object(h.b)(function(e){return{userid:e.userId}})(ut),ht=a(152),pt=q.a.Item,dt=J.a.TextArea,ft=B.a.Option,gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFileSelect=function(e){a.setState({selectedFile:e.target.files[0],isSelected:!0})},a.handleFormSubmit=function(e,t){if(e.preventDefault(),console.log(a.state),a.state.isSelected){var n=new FormData;n.append("avatar",a.state.selectedFile),fetch("http://127.0.0.1:8000/profile/updatepicprof/".concat(a.state.profID),{method:"PUT",headers:{Accept:"application/json, text/plain, */*"},body:n}).then(function(e){return e.json()}).then(function(e){console.log(e),d.a.put("http://127.0.0.1:8000/profile/update/".concat(t),{first_name:a.state.first_name,last_name:a.state.last_name,bio:a.state.bio,genre:a.state.genre,isPrivate:a.state.private}).then(function(e){a.props.history.push("/profile")}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}else d.a.put("http://127.0.0.1:8000/profile/update/".concat(t),{first_name:a.state.first_name,last_name:a.state.last_name,bio:a.state.bio,genre:a.state.genre,isPrivate:a.state.private}).then(function(e){a.props.history.push("/profile")}).catch(function(e){return console.log(e)})},a.handleGenreChange=function(e){a.setState({genre:e})},a.handleTextChange=function(e,t){a.setState(Object(ht.a)({},e,t.target.value))},a.handlePrivacyChange=function(){a.setState({private:!a.state.private})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction",selectedFile:null,isSelected:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://127.0.0.1:8000/profile/".concat(this.props.userid)).then(function(t){e.setState({first_name:t.data.first_name,last_name:t.data.last_name,private:t.data.isPrivate,bio:t.data.bio,genre:t.data.genre,avatar:t.data.avatar,profID:t.data.pk})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:function(t){return e.handleFormSubmit(t,e.props.userid)}},r.a.createElement(pt,{label:"First Name"},r.a.createElement(J.a,{name:"firstname",placeholder:this.state.first_name,onChange:function(t){return e.handleTextChange("first_name",t)}})),r.a.createElement(pt,{label:"Last Name"},r.a.createElement(J.a,{name:"lastname",placeholder:this.state.last_name,onChange:function(t){return e.handleTextChange("last_name",t)}})),r.a.createElement(pt,{label:"Bio"},r.a.createElement(dt,{name:"bio",placeholder:this.state.bio,autosize:{minRows:2},onChange:function(t){return e.handleTextChange("bio",t)}})),r.a.createElement(pt,{label:"Genre"},r.a.createElement(B.a,{name:"genre",placeholder:this.state[this.state.genre],defaultValue:this.state.genre,onChange:function(t){return e.handleGenreChange(t)}},r.a.createElement(ft,{value:"FA"},"Fantasy"),r.a.createElement(ft,{value:"RO"},"Romance"),r.a.createElement(ft,{value:"TR"},"Thriller"),r.a.createElement(ft,{value:"MY"},"Mystery"),r.a.createElement(ft,{value:"BI"},"Biography"),r.a.createElement(ft,{value:"FI"},"Fiction"),r.a.createElement(ft,{value:"NF"},"Non Fiction"),r.a.createElement(ft,{value:"SF"},"Science Fiction"))),r.a.createElement(q.a.Item,{label:"Privacy"},r.a.createElement(lt.a,{name:"switch",checked:this.state.private,onClick:this.handlePrivacyChange})),r.a.createElement(pt,{label:"Avatar"},r.a.createElement("input",{type:"file",name:"",id:"",onChange:this.handleFileSelect})),r.a.createElement(pt,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit"},"Submit!"))))}}]),t}(r.a.Component),Et=Object(h.b)(function(e){return{userid:e.userId}})(gt),yt={color:"rgba(0,0,0,0.8)"},bt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[]},a.handleSubmit=function(e){var t=a.props.match.params.uid,n=a.props.match.params.token;e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,a){if(!e){var r={new_password1:a.password,new_password2:a.confirm,uidb64:t,token:n};console.log(r),d.a.get("http://127.0.0.1:8000/profile/resetpw/confirm/".concat(t,"-").concat(n,"/")).then(function(e){d.a.post("http://127.0.0.1:8000/profile/resetpw/confirm/".concat(t,"-set-password/"),r).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})}})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{className:"signForm"},e("password",{rules:[{required:!0,message:"Please input a new password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"lock",style:yt}),type:"password",placeholder:"Password"}))),r.a.createElement(q.a.Item,{className:"signForm"},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"lock",style:yt}),type:"password",placeholder:"Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(q.a.Item,{className:"signForm"},r.a.createElement(H.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Signup"),r.a.createElement(K.a,{style:{marginLeft:110,fontSize:16},to:"/login/"}," Login"))))}}]),t}(r.a.Component),vt=q.a.create({name:"newPW"})(bt),wt=Object(h.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a,n,r){return e(b(t,a,n,r))}}})(vt),kt=a(307),St=a(658),Ft=(a(510),a(303)),At=a.n(Ft),It=a(304),Ct=a.n(It),jt=St.a.SubMenu,Ot=(F.a.Header,F.a.Content),Dt=(F.a.Footer,F.a.Sider),xt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){e.isFlipped=!e.isFlipped,a.setState(function(e){return{isFlipped:!e.isFlipped}})},a.handleSortChange=function(e){var t=Object(kt.a)(a.state.books);switch(e){case"title":t.sort(function(e,t){return e.title.localeCompare(t.title)});break;case"rating":t.sort(function(e,t){return t.rating-e.rating});break;case"publication_date":t.sort(function(e,t){return t.publication_date.localeCompare(e.publication_date)})}a.setState({booksFiltered:t})},a.handleGenreChange=function(e){a.setState({booksFiltered:a.state.books.filter(function(t){return t.genre==e})})},a.errorMessage=function(){me.a.error("Please do not use special characters Before Submitting!"),a.setState({error:!1})},a.handleSearch=function(e){e.preventDefault(),console.log(e.target.elements.tgtname.value);var t=e.target.elements.tgtname.value;t.match("^[0-9A-Za-zs]+$")?d.a.get("http://127.0.0.1:8000/library/search/".concat(t)).then(function(e){a.setState({books:e.data});for(var t=0;t<a.state.books.length;++t)a.state.books[t].isFlipped=!1;a.setState({booksFiltered:a.state.books})}).catch(function(e){return console.log(e)}):a.setState({error:!1})},a.componentDidMount=function(){d.a.get("http://127.0.0.1:8000/library/booklist/").then(function(e){a.setState({books:e.data});for(var t=0;t<a.state.books.length;++t)a.state.books[t].isFlipped=!1;a.setState({booksFiltered:a.state.books})}).catch(function(e){return console.log(e)})},a.state={FA:"Fantasy",NF:"Non Fiction",RO:"Romance",TR:"Thriller",MY:"Mystery",BI:"Biography",FI:"Fiction",SF:"Science Fiction",books:[],booksFiltered:[],isFlipped:!1,error:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,{style:{padding:"0 0",background:"#020037"}},this.state.error?this.errorMessage():r.a.createElement("b",null),r.a.createElement(Dt,{width:220},r.a.createElement("img",{src:N.a,style:{width:175,marginLeft:22,marginTop:25}}),r.a.createElement(St.a,{mode:"inline",theme:"dark",defaultSelectedKeys:[3],style:{paddingLeft:0,paddingTop:10}},r.a.createElement(St.a.Item,{key:"1",onClick:function(){return e.handleSortChange("publication_date")}},"Newest Collection"),r.a.createElement(St.a.Item,{key:"2",onClick:function(){return e.handleSortChange("rating")}},"Top Rated"),r.a.createElement(St.a.Item,{key:"3",onClick:function(){return e.handleSortChange("title")}},"Title"),r.a.createElement(jt,{key:"genre",title:"Genre"},r.a.createElement(St.a.Item,{key:"FA",onClick:function(){return e.handleGenreChange("FA")}},"Fantasy"),r.a.createElement(St.a.Item,{key:"NF",onClick:function(){return e.handleGenreChange("NF")}},"Non Fiction"),r.a.createElement(St.a.Item,{key:"RO",onClick:function(){return e.handleGenreChange("RO")}},"Romance"),r.a.createElement(St.a.Item,{key:"TH",onClick:function(){return e.handleGenreChange("TH")}},"Thriller"),r.a.createElement(St.a.Item,{key:"MY",onClick:function(){return e.handleGenreChange("MY")}},"Mystery"),r.a.createElement(St.a.Item,{key:"BI",onClick:function(){return e.handleGenreChange("BI")}},"Biography"),r.a.createElement(St.a.Item,{key:"FI",onClick:function(){return e.handleGenreChange("FI")}},"Fiction"),r.a.createElement(St.a.Item,{key:"SF",onClick:function(){return e.handleGenreChange("SF")}},"Science Fiction")),r.a.createElement("div",{style:{marginTop:50,marginLeft:22}},"Unsure of the title of the"),r.a.createElement("div",{style:{marginTop:22,marginLeft:22}},"book? Search by substring"),r.a.createElement("div",{style:{marginTop:22,marginLeft:22}},"below!"),r.a.createElement("div",null," ",r.a.createElement("img",{src:At.a,style:{width:40,marginTop:10,marginLeft:90}})," "),r.a.createElement(C.a,{inline:!0,onSubmit:function(t){return e.handleSearch(t)}},r.a.createElement(x.a,{style:{marginTop:40,marginLeft:22,width:180},type:"text",placeholder:"Search",className:"mr-sm-2",name:"tgtname"}),r.a.createElement(R.a,{style:{marginTop:15,marginLeft:22},variant:"outline-success",type:"primary"},"Search")))),r.a.createElement(Ot,null,r.a.createElement(ie.a,{grid:{gutter:16,column:3},style:{paddingTop:50,paddingLeft:80,paddingRight:10,paddingBottom:10},pagination:{onChange:function(e){console.log(e)},pageSize:12},dataSource:this.state.booksFiltered,renderItem:function(t){return r.a.createElement(ie.a.Item,{style:{height:450}},r.a.createElement(Ct.a,{isFlipped:t.isFlipped,flipDirection:"horizontal"},r.a.createElement(ce.a,{hoverable:!0,style:{width:240,background:"#F6C564"},cover:r.a.createElement($e.c,{hover:!0,zoom:!0},r.a.createElement("img",{alt:t.title,src:t.image_url,style:{height:350},width:"100%",height:"100%"})),onClick:function(){return e.handleClick(t)},key:"front"},r.a.createElement(ce.a.Meta,{title:r.a.createElement("a",{style:{color:"black"},href:"/booklist/"+t.pk},t.title)})),r.a.createElement(ce.a,{title:r.a.createElement("a",{href:"/booklist/"+t.pk},r.a.createElement("b",null,t.title)),style:{width:240,height:350,background:"#F6C564"},key:"back",onClick:function(){return e.handleClick(t)}},r.a.createElement("p",null,"Date: ",t.publication_date),r.a.createElement("p",null,"Genre: ",e.state[t.genre]),r.a.createElement("p",null,"Rating: ",r.a.createElement(de.a,{disabled:!0,allowHalf:!0,value:t.rating})),r.a.createElement("p",null,"Reviews: ",t.number_of_reviews))))}})))}}]),t}(r.a.Component),Rt={color:"rgba(0,0,0,0.8)"},Tt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){d.a.get("http://127.0.0.1:8000/profile/resetpw/").then(function(e){d.a.post("http://127.0.0.1:8000/profile/resetpw/",{email:"user9@gmail.com"}).then(function(e){console.log(e)})})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"parent",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:10,backgroundColor:"rgba(241, 101, 86, 0.6)"}},r.a.createElement("img",{src:N.a,alt:"logo",style:{width:250,height:93}}),r.a.createElement(q.a,{onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{className:"signForm"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(J.a,{prefix:r.a.createElement(Y.a,{type:"mail",style:Rt}),placeholder:"Email"}))),r.a.createElement(q.a.Item,{className:"signForm"},r.a.createElement(H.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Signup"),r.a.createElement(K.a,{style:{marginLeft:110,fontSize:16},to:"/login/"}," Login")),r.a.createElement("p",null," An email will be sent!")))}}]),t}(r.a.Component),Bt=q.a.create({name:"forgotpw"})(Tt),Lt=(Object(h.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a,n,r){return e(b(t,a,n,r))}}})(Bt),function(e){var t=e.component,a=e.layout,n=Object(v.a)(e,["component","layout"]);return console.log(n),r.a.createElement(w.a,Object.assign({},n,{render:function(e){return r.a.createElement(a,Object.assign({},n.props,e),r.a.createElement(t,Object.assign({},n.props,e)))}}))}),Nt=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(S.a,null,r.a.createElement(Lt,{exact:!0,path:"/",layout:function(e){return r.a.createElement(_,e)},component:W,props:e}),r.a.createElement(Lt,{exact:!0,path:"/login/",layout:function(e){return r.a.createElement(te,e)},component:W,props:e}),r.a.createElement(Lt,{exact:!0,path:"/signup/",layout:function(e){return r.a.createElement(te,e)},component:oe,props:e}),r.a.createElement(Lt,{exact:!0,path:"/profile/resetpw/confirm/:uid([0-9a-zA-z]+)-:token/",layout:function(e){return r.a.createElement(_,e)},component:wt,props:e}),r.a.createElement(w.a,{path:"/forgot/",component:function(){return window.location="http://127.0.0.1:8000/profile/resetpw/",null}}),r.a.createElement(Lt,{exact:!0,path:"/booklist/",layout:function(e){return r.a.createElement(_,e)},component:ue,props:e}),r.a.createElement(Lt,{exact:!0,path:"/booklist/:bookID/",layout:function(e){return r.a.createElement(_,e)},component:Re,props:e}),r.a.createElement(Lt,{exact:!0,path:"/questions/:bookID/",layout:function(e){return r.a.createElement(_,e)},component:we,props:e}),r.a.createElement(Lt,{exact:!0,path:"/authors/:authID/",layout:function(e){return r.a.createElement(_,e)},component:Ye,props:e}),r.a.createElement(Lt,{exact:!0,path:"/newprof/",layout:function(e){return r.a.createElement(_,e)},component:mt,props:e}),r.a.createElement(Lt,{exact:!0,path:"/updateprof/",layout:function(e){return r.a.createElement(_,e)},component:Et,props:e}),r.a.createElement(Lt,{exact:!0,path:"/profile/",layout:function(e){return r.a.createElement(_,e)},component:We,props:e}),r.a.createElement(Lt,{exact:!0,path:"/profile/:profileID",layout:function(e){return r.a.createElement(_,e)},component:rt,props:e}),r.a.createElement(Lt,{exact:!0,path:"/explore/",layout:function(e){return r.a.createElement(_,e)},component:xt,props:e}))))},zt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Nt,this.props))}}]),t}(n.Component),Qt=Object(h.b)(function(e){return{isAuthenticated:null!==e.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=JSON.parse(localStorage.getItem("user"));if(void 0===t||null===t)e(E());else{var a=new Date(t.expirationDate);a<=new Date?e(E()):(e(f(t)),e(y((a.getTime()-(new Date).getTime())/1e3)))}})}}})(zt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt=a(100),Gt=a(305),Ut=a(306),_t=function(e,t){return Object(Ut.a)({},e,t)},Yt={token:null,username:null,userId:null,error:null,loading:!1},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return _t(e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return _t(e,{token:t.user.token,username:t.user.username,userId:t.user.userId,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return _t(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return _t(e,{token:null})}(e);default:return e}},qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Mt.c,Jt=Object(Mt.d)(Pt,qt(Object(Mt.a)(Gt.a))),Ht=r.a.createElement(h.a,{store:Jt},r.a.createElement(Qt,null));o.a.render(Ht,document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.d3a9a005.chunk.js.map