{"ast":null,"code":"import _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/containers/NotificationMenu.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Dropdown, Icon, Button, Badge, List } from \"antd\";\nimport { connect } from \"react-redux\";\nimport NotificationList from './NotificationList';\nvar gridStyle = {\n  textAlign: 'center'\n};\nvar data = ['One', 'Two', 'Three'];\nvar lists = React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, React.createElement(List, {\n  size: \"small\",\n  dataSource: data,\n  renderItem: function renderItem(item) {\n    return React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, item);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}));\n\nvar NotificationMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NotificationMenu, _React$Component);\n\n  function NotificationMenu(props) {\n    var _this;\n\n    _classCallCheck(this, NotificationMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NotificationMenu).call(this, props));\n    _this.state = {\n      notifications: []\n    };\n    return _this;\n  }\n\n  _createClass(NotificationMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var profID = localStorage.getItem(\"profID\");\n      axios.get(\"http://127.0.0.1:8000/notification/\".concat(profID)).then(function (res) {\n        _this2.setState({\n          notifications: res.data,\n          length: res.data.length\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        overlay: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(List, {\n          size: \"small\",\n          dataSource: this.state.notifications,\n          renderItem: function renderItem(item) {\n            return React.createElement(\"a\", {\n              href: '/booklist/' + item.book,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 55\n              },\n              __self: this\n            }, React.createElement(List.Item, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 55\n              },\n              __self: this\n            }, item.text));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        })),\n        trigger: ['click'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Badge, {\n        count: this.state.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return NotificationMenu;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userid: state.userId\n  };\n};\n\nexport default NotificationMenu;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/containers/NotificationMenu.js"],"names":["React","axios","Dropdown","Icon","Button","Badge","List","connect","NotificationList","gridStyle","textAlign","data","lists","item","NotificationMenu","props","state","notifications","profID","localStorage","getItem","get","then","res","setState","length","catch","err","console","log","book","text","Component","mapStateToProps","userid","userId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Dropdown, Icon, Button, Badge, List } from \"antd\";\nimport { connect } from \"react-redux\";\nimport NotificationList from './NotificationList';\n\nconst gridStyle = {\n    textAlign: 'center',\n  };\n\nconst data = [\n    'One',\n    'Two',\n    'Three'\n]\nconst lists = (\n    <div>\n        <List\n            size=\"small\"\n            dataSource={data}\n            renderItem={item => (<List.Item>{item}</List.Item>)}\n        />\n    </div>\n)\n\nclass NotificationMenu extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            notifications: []\n        };\n    }  \n\n    componentDidMount() {\n        const profID = localStorage.getItem(\"profID\");\n        axios.get(`http://127.0.0.1:8000/notification/${profID}`).then(res => {\n            this.setState({\n                notifications: res.data,\n                length: res.data.length\n            });\n            \n        })\n        .catch(err => console.log(err));\n    }\n\n    render() {\n        return (\n        <div>\n            <Dropdown overlay={\n                <div>\n                    <List \n                        size=\"small\"\n                        dataSource = {this.state.notifications}\n                        renderItem = {item => ( <a href={'/booklist/'+item.book} ><List.Item>{item.text}</List.Item></a>)}\n                    />\n                </div>\n            } trigger={['click']}>\n                <Badge count={this.state.length}>\n                    <div>\n                        <Button>\n                            <Icon type=\"bell\" />\n                        </Button>\n                    </div>\n                </Badge>\n            </Dropdown>\n        </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userid: state.userId\n    };\n};\n\nexport default NotificationMenu;"]},"metadata":{},"sourceType":"module"}