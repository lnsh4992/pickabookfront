{"ast":null,"code":"import _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/containers/AuthorDetailView.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Card, Row, Col, List, Icon, Avatar, Spin } from \"antd\";\nvar gridStyle = {\n  textAlign: 'center'\n};\n\nvar AuthorDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AuthorDetail, _React$Component);\n\n  function AuthorDetail(props) {\n    var _this;\n\n    _classCallCheck(this, AuthorDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AuthorDetail).call(this, props));\n\n    _this.componentDidMount = function () {\n      var authID = _this.props.match.params.authID;\n      _this._isMounted = true;\n      axios.get(\"http://127.0.0.1:8000/authors/\".concat(authID)).then(function (res) {\n        _this.setState({\n          // book: res.data\n          title: res.data.name,\n          birthdate: res.data.birthdate,\n          numFollowers: res.data.numFollowers,\n          image_url: res.data.image_url,\n          genre: _this.state[res.data.genre],\n          rating: res.data.review,\n          number_of_reviews: res.data.review_count,\n          synopsis: res.data.bio\n        });\n\n        axios.get(\"http://127.0.0.1:8000/library/authorbooks/\".concat(res.data.name)).then(function (ares) {\n          _this.setState({\n            books: ares.data\n          });\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.handleFollow = function () {\n      var profID = localStorage.getItem(\"profID\");\n      var authID = _this.props.match.params.authID;\n      axios.put(\"http://127.0.0.1:8000/profile/addfollow/\".concat(profID), {\n        following: [authID]\n      }).then(function (res) {\n        _this.style = {\n          marginLeft: 10,\n          color: !_this.state.following ? \"#b22222\" : '#ffd770'\n        };\n\n        _this.setState({\n          iconType: !_this.state.following ? \"user-delete\" : \"user-add\",\n          color: !_this.state.following ? \"#b22222\" : '#ffd770',\n          following: !_this.state.following\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.state = {\n      FA: \"Fantasy\",\n      NF: \"Non Fiction\",\n      RO: \"Romance\",\n      TR: \"Thriller\",\n      MY: \"Mystery\",\n      BI: \"Biography\",\n      FI: \"Fiction\",\n      SF: \"Science Fiction\",\n      books: [],\n      following: false,\n      color: \"#ffd770\",\n      iconType: \"user-add\"\n    };\n    _this.style = {\n      marginLeft: 10,\n      color: '#ffd770'\n    };\n    return _this;\n  }\n\n  _createClass(AuthorDetail, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      console.log(\"Unmounting\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: 20,\n        type: \"flex\",\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Card, {\n        bodyStyle: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.image_url,\n        style: {},\n        width: \"100%\",\n        height: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        span: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, this.state.title, React.createElement(Icon, {\n          style: this.style,\n          type: this.state.iconType,\n          onClick: this.handleFollow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        })),\n        headStyle: {\n          fontSize: 20,\n          fontStyle: 'italic',\n          fontFamily: 'Georgia'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Birthdate: \")), this.state.birthdate), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Number of Followers: \")), this.state.numFollowers), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Genre: \")), this.state.genre), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Rating: \")), this.state.rating), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Number of reviews: \")), this.state.number_of_reviews)))), React.createElement(Row, {\n        gutter: 20,\n        type: \"flex\",\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 22,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: gridStyle,\n        title: \"Synopsis/blurb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, this.state.synopsis)))), React.createElement(List, {\n        grid: {\n          gutter: 16,\n          column: 4\n        },\n        dataSource: this.state.books,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }, React.createElement(Card, {\n            hoverable: true,\n            style: {\n              width: 240\n            },\n            cover: React.createElement(\"img\", {\n              alt: item.title,\n              src: item.image_url,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 164\n              },\n              __self: this\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          }, React.createElement(Card.Meta, {\n            title: React.createElement(\"a\", {\n              href: '/booklist/' + item.pk,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 167\n              },\n              __self: this\n            }, React.createElement(\"b\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 167\n              },\n              __self: this\n            }, item.title)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AuthorDetail;\n}(React.Component);\n\nvar Title =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Title, _React$Component2);\n\n  function Title() {\n    _classCallCheck(this, Title);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Title).apply(this, arguments));\n  }\n\n  _createClass(Title, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Title\");\n    }\n  }]);\n\n  return Title;\n}(React.Component);\n\nexport default AuthorDetail;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/containers/AuthorDetailView.js"],"names":["React","axios","Card","Row","Col","List","Icon","Avatar","Spin","gridStyle","textAlign","AuthorDetail","props","componentDidMount","authID","match","params","_isMounted","get","then","res","setState","title","data","name","birthdate","numFollowers","image_url","genre","state","rating","review","number_of_reviews","review_count","synopsis","bio","ares","books","catch","error","console","log","handleFollow","profID","localStorage","getItem","put","following","style","marginLeft","color","iconType","FA","NF","RO","TR","MY","BI","FI","SF","padding","fontSize","fontStyle","fontFamily","gutter","column","item","width","pk","Component","Title"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Card, Row, Col, List, Icon, Avatar, Spin } from \"antd\";\n\nconst gridStyle = {\n    textAlign: 'center',\n  };\n\nclass AuthorDetail extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            FA: \"Fantasy\",\n            NF: \"Non Fiction\",\n            RO: \"Romance\",\n            TR: \"Thriller\",\n            MY: \"Mystery\",\n            BI: \"Biography\",\n            FI: \"Fiction\",\n            SF: \"Science Fiction\",\n            books: [],\n            following: false,\n            color: \"#ffd770\",\n            iconType: \"user-add\"\n        };\n\n        this.style={marginLeft: 10, color: '#ffd770'}\n    }  \n\n    componentDidMount = () => {\n        const authID = this.props.match.params.authID;\n        this._isMounted=true;\n        axios.get(`http://127.0.0.1:8000/authors/${authID}`).then(res => {\n          this.setState({\n            // book: res.data\n            title: res.data.name,\n            birthdate: res.data.birthdate,\n            numFollowers: res.data.numFollowers,\n            image_url: res.data.image_url,\n            genre: this.state[res.data.genre],\n            rating: res.data.review,\n            number_of_reviews: res.data.review_count,\n            synopsis: res.data.bio\n          });\n\n          axios.get(`http://127.0.0.1:8000/library/authorbooks/${res.data.name}`).then(ares => {\n              this.setState({\n                  books: ares.data\n              });\n          })\n          .catch(error => console.log(error));\n        })\n        .catch(error => console.log(error));\n    }  \n\n    componentWillUnmount(){\n        this._isMounted = false;\n        console.log(\"Unmounting\");\n    }\n\n    handleFollow = () => {\n        const profID = localStorage.getItem(\"profID\");\n        const authID = this.props.match.params.authID;\n        axios.put(`http://127.0.0.1:8000/profile/addfollow/${profID}`, {\n            following: [authID]\n        })\n        .then(res => {\n            this.style = {\n                marginLeft: 10,\n                color: !this.state.following ? \"#b22222\": '#ffd770'\n            }\n            this.setState({\n                iconType: !this.state.following ? \"user-delete\" : \"user-add\" ,\n                color: !this.state.following ? \"#b22222\": '#ffd770',\n                following: !this.state.following\n            });\n            \n\n        })\n        .catch(error => console.log(error));\n\n\n    }\n\n    render() {\n        return (\n                <div>\n                    <Row gutter={20} type=\"flex\" justify=\"center\">\n                        <Col span={6}>\n                            <Card bodyStyle={{\n                                padding: 0\n                            }}>\n                                <img src={this.state.image_url} style={{    \n                                }}\n                                width=\"100%\" height=\"100%\" >\n                                </img>\n                            </Card>\n                        </Col>\n                        \n                        <Col span={16}>\n                            <Card title={\n                                    <div>\n                                        {this.state.title} \n                                        <Icon style={this.style} type={this.state.iconType}\n                                            onClick={this.handleFollow} />\n                                    </div>\n                                }\n                                \n                                headStyle={{\n                                fontSize: 20,\n                                fontStyle: 'italic',\n                                fontFamily: 'Georgia'\n                            }}>\n                                <p>\n                                    <b><i>Birthdate: </i></b> \n                                    {this.state.birthdate}\n                                </p>\n                                \n                                <p>\n                                    <b><i>Number of Followers: </i></b> \n                                    {this.state.numFollowers}\n                                </p>\n                                \n                                <p>\n                                    <b><i>Genre: </i></b>\n                                    {this.state.genre}\n                                </p>\n\n                                <p>\n                                    <b><i>Rating: </i></b>\n                                    {this.state.rating}\n                                </p>\n\n                                <p>\n                                    <b><i>Number of reviews: </i></b>\n                                    {this.state.number_of_reviews}\n                                </p>\n                            </Card>\n                        </Col>\n\n                    </Row>\n\n                    <Row gutter={20} type=\"flex\" justify=\"center\">\n                        <Col span={22}>\n                            <Card style={gridStyle} title=\"Synopsis/blurb\">\n                                <p>\n                                    {this.state.synopsis}\n                                </p>\n                            </Card>\n                        </Col>\n                    </Row>\n\n                    <List\n                        grid={{ gutter: 16, column: 4 }}\n                        dataSource={this.state.books}\n                        renderItem={item => (\n                        <List.Item>\n\n\n                            <Card\n                                hoverable\n                                style={{ width: 240 }}\n                                cover={<img alt={item.title} src={item.image_url} />}\n                            >\n                                <Card.Meta\n                                title={<a href={'/booklist/'+item.pk}><b>{item.title}</b></a>}\n                                \n                                />\n                            </Card>\n                        </List.Item>\n                        )}\n                    />\n\n                </div>\n        )\n    }\n}\n\nclass Title extends React.Component {\n    render() {\n        return (\n            <h2>\n                Title\n            </h2>\n        );\n    }\n}\n\nexport default AuthorDetail;"]},"metadata":{},"sourceType":"module"}