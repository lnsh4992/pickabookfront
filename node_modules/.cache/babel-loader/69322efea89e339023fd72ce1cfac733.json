{"ast":null,"code":"import _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/forms/ReviewForm.js\";\nimport React from 'react';\nimport { Form, Input, Button, Select, Rate } from 'antd';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\nvar FormItem = Form.Item;\nvar TextArea = Input.TextArea;\nvar Option = Select.Option;\nvar desc = ['terrible', 'terrible', 'bad', 'bad', 'normal', 'normal', 'good', 'good', 'wonderful', 'wonderful'];\nvar desc2 = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n\nvar ProfileRegistrationForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfileRegistrationForm, _React$Component);\n\n  function ProfileRegistrationForm(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileRegistrationForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileRegistrationForm).call(this, props));\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      var profID = localStorage.getItem(\"profID\");\n      axios.put(\"http://127.0.0.1:8000/bookreview/create/\", {\n        title: event.target.elements.title.value,\n        review: event.target.elements.review.value,\n        rating: _this.state.value,\n        prof: profID,\n        book: _this.props.bookID\n      }).then(function (res) {\n        return console.log(res);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n\n      _this.props.history.push('/profile');\n    };\n\n    _this.handleChange = function (value) {\n      _this.setState({\n        value: value\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.state = {\n      value: 3.0\n    };\n    return _this;\n  }\n\n  _createClass(ProfileRegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var value = this.state.value;\n      console.log(\"Rendered!\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: function onSubmit(event) {\n          return _this2.handleFormSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        label: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"title\",\n        placeholder: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        label: \"Review\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        name: \"review\",\n        placeholder: \"Review\",\n        autosize: {\n          minRows: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Rate, {\n        allowHalf: true,\n        tooltips: desc2,\n        onChange: this.handleChange,\n        initialValue: 3.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), value ? React.createElement(\"span\", {\n        className: \"ant-rate-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, desc[this.state.value * 2 - 1]) : ''), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Submit!\"))));\n    }\n  }]);\n\n  return ProfileRegistrationForm;\n}(React.Component);\n\nexport default ProfileRegistrationForm;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/forms/ReviewForm.js"],"names":["React","Form","Input","Button","Select","Rate","connect","axios","FormItem","Item","TextArea","Option","desc","desc2","ProfileRegistrationForm","props","handleFormSubmit","event","preventDefault","profID","localStorage","getItem","put","title","target","elements","value","review","rating","state","prof","book","bookID","then","res","console","log","catch","error","history","push","handleChange","setState","minRows","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button, Select, Rate } from 'antd';\nimport { connect } from \"react-redux\";\n\nimport axios from 'axios';\n\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\nconst Option = Select.Option;\nconst desc = ['terrible', 'terrible', 'bad','bad', 'normal','normal', 'good','good', 'wonderful','wonderful'];\nconst desc2 = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n\n\nclass ProfileRegistrationForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { \n            value: 3.0,\n        };\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n        const profID = localStorage.getItem(\"profID\");\n        axios.put(`http://127.0.0.1:8000/bookreview/create/`, {\n            title: event.target.elements.title.value,\n            review: event.target.elements.review.value,\n            rating: this.state.value,\n            prof: profID,\n            book: this.props.bookID,\n        })\n        .then(res => console.log(res))\n        .catch(error => console.log(error));\n        this.props.history.push('/profile');\n    }\n\n    handleChange = (value) => {\n        this.setState({ value });\n        console.log(this.state);\n    }\n\n\n    render() {\n        const { value } = this.state;\n        console.log(\"Rendered!\");\n        return (\n            <div>\n                <Form onSubmit={(event) => this.handleFormSubmit(\n                    event,\n                )}>\n                    <FormItem label=\"Title\" >\n                        <Input name=\"title\" placeholder=\"Title\" />\n                    </FormItem>\n\n                    <FormItem label=\"Review\" >\n                        <TextArea name=\"review\" placeholder=\"Review\" autosize={{minRows: 2}} />\n                    </FormItem>\n\n                    <span>\n                        <Rate allowHalf tooltips={desc2} onChange={this.handleChange} initialValue={3.5} />\n                        {value ? <span className=\"ant-rate-text\">{desc[this.state.value*2 - 1]}</span> : ''}\n                    </span>\n\n                    <FormItem>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Submit!\n                        </Button>\n                    </FormItem>\n\n                </Form>\n            </div>\n        );\n    }\n}\n\n\nexport default ProfileRegistrationForm;"]},"metadata":{},"sourceType":"module"}