{"ast":null,"code":"import _toConsumableArray from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/containers/Explore.js\";\nimport React from 'react';\nimport Books from '../components/Book';\nimport axios from 'axios';\nimport { List, Card, Rate, Layout, Menu, Input, Row, message } from 'antd';\nimport { Form, FormControl, Button } from 'react-bootstrap';\nimport { SketchPicker } from 'react-color';\nimport Logo from '../images/logo.png'; // import Text from 'react-native';\n\nimport ReactCardFlip from 'react-card-flip';\nvar SubMenu = Menu.SubMenu;\nvar Header = Layout.Header,\n    Content = Layout.Content,\n    Footer = Layout.Footer,\n    Sider = Layout.Sider; // const goldenStyle = {\n//     color: 'green',\n//   };\n\nvar Explore =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Explore, _React$Component);\n\n  function Explore(props) {\n    var _this;\n\n    _classCallCheck(this, Explore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Explore).call(this, props));\n\n    _this.handleClick = function (item) {\n      item.isFlipped = !item.isFlipped;\n\n      _this.setState(function (prevState) {\n        return {\n          isFlipped: !prevState.isFlipped\n        };\n      });\n    };\n\n    _this.handleSortChange = function (event) {\n      var obj = _toConsumableArray(_this.state.books);\n\n      switch (event) {\n        case 'title':\n          obj.sort(function (a, b) {\n            return a.title.localeCompare(b.title);\n          });\n          break;\n\n        case 'rating':\n          obj.sort(function (a, b) {\n            return b.rating - a.rating;\n          });\n          break;\n\n        case 'publication_date':\n          obj.sort(function (a, b) {\n            return b.publication_date.localeCompare(a.publication_date);\n          });\n          break;\n      }\n\n      _this.setState({\n        booksFiltered: obj\n      });\n    };\n\n    _this.handleGenreChange = function (event) {\n      _this.setState({\n        booksFiltered: _this.state.books.filter(function (obj) {\n          return obj.genre == event;\n        })\n      });\n    };\n\n    _this.errorMessage = function () {\n      message.error('Please do not use special characters Before Submitting!');\n\n      _this.setState({\n        error: false\n      });\n    };\n\n    _this.handleSearch = function (event) {\n      event.preventDefault();\n      console.log(event.target.elements.tgtname.value);\n      var title = event.target.elements.tgtname.value;\n\n      if (!title.match(\"^[0-9A-Za-z\\s]+$\")) {\n        _this.setState({\n          error: false\n        });\n\n        return;\n      }\n\n      axios.get(\"http://127.0.0.1:8000/library/search/\".concat(title)).then(function (res) {\n        _this.setState({\n          books: res.data\n        });\n\n        for (var i = 0; i < _this.state.books.length; ++i) {\n          _this.state.books[i].isFlipped = false;\n        }\n\n        _this.setState({\n          booksFiltered: _this.state.books\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.componentDidMount = function () {\n      axios.get(\"http://127.0.0.1:8000/library/booklist/\").then(function (res) {\n        _this.setState({\n          books: res.data\n        });\n\n        for (var i = 0; i < _this.state.books.length; ++i) {\n          _this.state.books[i].isFlipped = false;\n        }\n\n        _this.setState({\n          booksFiltered: _this.state.books\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.state = {\n      FA: \"Fantasy\",\n      NF: \"Non Fiction\",\n      RO: \"Romance\",\n      TR: \"Thriller\",\n      MY: \"Mystery\",\n      BI: \"Biography\",\n      FI: \"Fiction\",\n      SF: \"Science Fiction\",\n      books: [],\n      booksFiltered: [],\n      isFlipped: false,\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(Explore, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Layout, {\n        style: {\n          padding: '0 0',\n          background: '#020037'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.error ? this.errorMessage() : React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Sider, {\n        width: 220,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: Logo,\n        style: {\n          width: 175,\n          marginLeft: 22,\n          marginTop: 25\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(Menu, {\n        mode: \"inline\",\n        theme: \"dark\",\n        defaultSelectedKeys: [3],\n        style: {\n          paddingLeft: 0,\n          paddingTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        key: \"1\",\n        onClick: function onClick() {\n          return _this2.handleSortChange('publication_date');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Newest Collection\"), React.createElement(Menu.Item, {\n        key: \"2\",\n        onClick: function onClick() {\n          return _this2.handleSortChange('rating');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Top Rated\"), React.createElement(Menu.Item, {\n        key: \"3\",\n        onClick: function onClick() {\n          return _this2.handleSortChange('title');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Title\"), React.createElement(SubMenu, {\n        key: \"genre\",\n        title: \"Genre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        key: \"FA\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('FA');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Fantasy\"), React.createElement(Menu.Item, {\n        key: \"NF\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('NF');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Non Fiction\"), React.createElement(Menu.Item, {\n        key: \"RO\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('RO');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Romance\"), React.createElement(Menu.Item, {\n        key: \"TH\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('TH');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Thriller\"), React.createElement(Menu.Item, {\n        key: \"MY\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('MY');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Mystery\"), React.createElement(Menu.Item, {\n        key: \"BI\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('BI');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Biography\"), React.createElement(Menu.Item, {\n        key: \"FI\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('FI');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Fiction\"), React.createElement(Menu.Item, {\n        key: \"SF\",\n        onClick: function onClick() {\n          return _this2.handleGenreChange('SF');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Science Fiction\")), React.createElement(\"div\", {\n        style: {\n          marginTop: 50,\n          marginLeft: 22\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Unsure of the title of the\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 22,\n          marginLeft: 22\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"book? Search by substring\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 22,\n          marginLeft: 22\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"below!\"), React.createElement(Form, {\n        inline: true,\n        onSubmit: function onSubmit(event) {\n          return _this2.handleSearch(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        style: {\n          marginTop: 40,\n          marginLeft: 22\n        },\n        type: \"text\",\n        placeholder: \"Search\",\n        className: \"mr-sm-2\",\n        name: \"tgtname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Button, {\n        style: {\n          marginTop: 15,\n          marginLeft: 22\n        },\n        variant: \"outline-success\",\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Search\")))), React.createElement(Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(List, {\n        grid: {\n          gutter: 16,\n          column: 3\n        },\n        style: {\n          paddingTop: 50,\n          paddingLeft: 80,\n          paddingRight: 10,\n          paddingBottom: 10\n        },\n        pagination: {\n          onChange: function onChange(page) {\n            console.log(page);\n          },\n          pageSize: 12\n        },\n        dataSource: this.state.booksFiltered,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            style: {\n              height: 450\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, React.createElement(ReactCardFlip, {\n            isFlipped: item.isFlipped,\n            flipDirection: \"horizontal\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, React.createElement(Card, {\n            hoverable: true,\n            style: {\n              width: 240,\n              background: '#F6C564'\n            },\n            cover: React.createElement(\"img\", {\n              alt: item.title,\n              src: item.image_url,\n              style: {\n                height: 350\n              },\n              width: \"100%\",\n              height: \"100%\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 185\n              },\n              __self: this\n            }),\n            onClick: function onClick() {\n              return _this2.handleClick(item);\n            },\n            key: \"front\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }, React.createElement(Card.Meta, {\n            title: React.createElement(\"a\", {\n              style: {\n                color: 'black'\n              },\n              href: '/booklist/' + item.pk,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 190\n              },\n              __self: this\n            }, item.title),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          })), React.createElement(Card, {\n            title: React.createElement(\"a\", {\n              href: '/booklist/' + item.pk,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 195\n              },\n              __self: this\n            }, React.createElement(\"b\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 195\n              },\n              __self: this\n            }, item.title)),\n            style: {\n              width: 240,\n              height: 350,\n              background: '#F6C564'\n            },\n            key: \"back\",\n            onClick: function onClick() {\n              return _this2.handleClick(item);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          }, \"Date: \", item.publication_date), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, \"Genre: \", _this2.state[item.genre]), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, \"Rating: \", React.createElement(Rate, {\n            disabled: true,\n            allowHalf: true,\n            value: item.rating,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          })), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, \"Reviews: \", item.number_of_reviews))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Explore;\n}(React.Component);\n\nexport default Explore;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/containers/Explore.js"],"names":["React","Books","axios","List","Card","Rate","Layout","Menu","Input","Row","message","Form","FormControl","Button","SketchPicker","Logo","ReactCardFlip","SubMenu","Header","Content","Footer","Sider","Explore","props","handleClick","item","isFlipped","setState","prevState","handleSortChange","event","obj","state","books","sort","a","b","title","localeCompare","rating","publication_date","booksFiltered","handleGenreChange","filter","genre","errorMessage","error","handleSearch","preventDefault","console","log","target","elements","tgtname","value","match","get","then","res","data","i","length","catch","componentDidMount","FA","NF","RO","TR","MY","BI","FI","SF","padding","background","width","marginLeft","marginTop","paddingLeft","paddingTop","gutter","column","paddingRight","paddingBottom","onChange","page","pageSize","height","image_url","color","pk","number_of_reviews","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Books from '../components/Book';\nimport axios from 'axios';\nimport {List, Card, Rate, Layout, Menu, Input, Row, message} from 'antd';\nimport {Form, FormControl, Button } from 'react-bootstrap';\nimport { SketchPicker } from 'react-color';\nimport Logo from '../images/logo.png';\n// import Text from 'react-native';\n\nimport ReactCardFlip from 'react-card-flip';\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Footer, Sider } = Layout;\n\n// const goldenStyle = {\n//     color: 'green',\n//   };\n\nclass Explore extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            FA: \"Fantasy\",\n            NF: \"Non Fiction\",\n            RO: \"Romance\",\n            TR: \"Thriller\",\n            MY: \"Mystery\",\n            BI: \"Biography\",\n            FI: \"Fiction\",\n            SF: \"Science Fiction\",\n            books: [],\n            booksFiltered: [],\n            isFlipped: false,\n            error: false,\n        };\n    }\n\n    handleClick = (item) => {\n        item.isFlipped = !item.isFlipped;\n        this.setState(prevState => ({ isFlipped: !prevState.isFlipped}));\n    }\n\n    handleSortChange = (event) => {\n        var obj = [...this.state.books];\n\n        switch(event){\n            case 'title': \n                obj.sort((a, b) => a.title.localeCompare(b.title));\n                break;\n            case 'rating':\n                obj.sort((a, b) => b.rating - a.rating);\n                break;\n            case 'publication_date':\n                obj.sort((a, b) => b.publication_date.localeCompare(a.publication_date));\n                break;\n        }\n\n        this.setState({booksFiltered: obj});\n    }\n\n    handleGenreChange = (event) => {\n        this.setState({booksFiltered: this.state.books.filter(obj => obj.genre == event)});\n    }\n\n    errorMessage = () => {\n        message.error('Please do not use special characters Before Submitting!');\n        this.setState({error: false});\n    }\n\n    handleSearch = (event) => {\n        event.preventDefault();\n        console.log(event.target.elements.tgtname.value);\n        const title = event.target.elements.tgtname.value;\n        \n        if( !title.match(\"^[0-9A-Za-z\\s]+$\") )\n        {\n            this.setState({error: false});\n            return;\n        }\n\n\n        axios.get(`http://127.0.0.1:8000/library/search/${title}`).then(res => {\n            this.setState({\n                books: res.data\n            });\n            for(var i=0; i<this.state.books.length; ++i){\n                this.state.books[i].isFlipped = false\n            }\n\n            this.setState({\n                booksFiltered: this.state.books\n            })\n        })\n        .catch(error => console.log(error));\n    }\n\n    componentDidMount = () => {\n        axios.get(\"http://127.0.0.1:8000/library/booklist/\").then(res => {\n            this.setState({\n                books: res.data\n            });\n            for(var i=0; i<this.state.books.length; ++i){\n                this.state.books[i].isFlipped = false\n            }\n            this.setState({\n                booksFiltered: this.state.books\n            })\n        })\n        .catch(error => console.log(error));\n    }\n    \n    render() {\n        return (\n            <Layout style={{ padding: '0 0', background: '#020037'}}>\n                {this.state.error ?\n                    this.errorMessage()\n                    :\n                    <b></b>\n                }\n                <Sider width={220}>\n                    <img src={Logo} style={{width:175, marginLeft: 22, marginTop: 25}} />\n                    <Menu\n                        mode=\"inline\"\n                        theme=\"dark\"\n                        defaultSelectedKeys={[3]}\n                        style={{paddingLeft: 0, paddingTop: 10 }}\n                    >\n                        <Menu.Item key=\"1\" onClick={()=> this.handleSortChange('publication_date')}>\n                        Newest Collection\n                        </Menu.Item>\n                        <Menu.Item key=\"2\" onClick={() => this.handleSortChange('rating')}>Top Rated</Menu.Item>\n                        <Menu.Item key=\"3\" onClick={() => this.handleSortChange('title')}>Title</Menu.Item>\n                        <SubMenu key=\"genre\" title='Genre'>\n                        <Menu.Item key=\"FA\" onClick={() => this.handleGenreChange('FA')}>Fantasy</Menu.Item>\n                        <Menu.Item key=\"NF\" onClick={() => this.handleGenreChange('NF')}>Non Fiction</Menu.Item>\n                        <Menu.Item key=\"RO\" onClick={() => this.handleGenreChange('RO')}>Romance</Menu.Item>\n                        <Menu.Item key=\"TH\" onClick={() => this.handleGenreChange('TH')}>Thriller</Menu.Item>\n                        <Menu.Item key=\"MY\" onClick={() => this.handleGenreChange('MY')}>Mystery</Menu.Item>\n                        <Menu.Item key=\"BI\" onClick={() => this.handleGenreChange('BI')}>Biography</Menu.Item>\n                        <Menu.Item key=\"FI\" onClick={() => this.handleGenreChange('FI')}>Fiction</Menu.Item>\n                        <Menu.Item key=\"SF\" onClick={() => this.handleGenreChange('SF')}>Science Fiction</Menu.Item>\n                        </SubMenu>\n\n                        <div style={{marginTop: 50, marginLeft: 22}}>{`Unsure of the title of the`}</div>\n                        <div style={{marginTop: 22, marginLeft: 22}}>{`book? Search by substring`}</div>\n                        <div style={{marginTop: 22, marginLeft: 22}}>{`below!`}</div>\n                        \n                        <Form inline onSubmit={(event) => this.handleSearch(event)}>\n                            <FormControl style={{marginTop: 40, marginLeft: 22}}\n                            type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" name=\"tgtname\"\n                            />\n                            <Button style={{marginTop: 15, marginLeft: 22}}\n                                    variant=\"outline-success\" \n                                    type=\"primary\">\n                                    Search\n                            </Button>\n                        </Form>\n                    </Menu>\n                </Sider>\n\n                <Content>\n                    \n                <List\n                grid={{\n                    gutter: 16, column: 3\n                }}\n                style={{\n                  paddingTop: 50, paddingLeft: 80, paddingRight: 10, paddingBottom: 10\n                }}\n                pagination={{\n                onChange: (page) => {\n                    console.log(page);\n                },\n                pageSize: 12,\n                }}\n                dataSource={this.state.booksFiltered}\n                \n                renderItem={item => (\n                    <List.Item style={{height: 450}}>\n                        <ReactCardFlip isFlipped={item.isFlipped} flipDirection=\"horizontal\">\n                        <Card\n                            hoverable\n                            style={{ width: 240, background: '#F6C564'}}\n                            cover={<img alt={item.title} src={item.image_url} style={{height: 350}} width=\"100%\" height=\"100%\" />}\n                            onClick={() => this.handleClick(item)}\n                            key=\"front\"\n                        >\n                            <Card.Meta\n                            title={<a style={{color: 'black'}} href={'/booklist/'+item.pk}>{item.title }</a>}\n                            />\n                        </Card>\n\n                        <Card\n                            title={<a href={'/booklist/'+item.pk}><b>{item.title }</b></a>}\n                            style={{width: 240, height: 350, background: '#F6C564'}}\n                            key=\"back\"\n                            onClick={() => this.handleClick(item)}\n                        >\n                            <p>Date: {item.publication_date}</p>\n                            <p>Genre: {this.state[item.genre]}</p>\n                            <p>Rating: <Rate disabled allowHalf value={item.rating} /></p>\n                            <p>Reviews: {item.number_of_reviews}</p>\n                        </Card>\n                        </ReactCardFlip>\n                    </List.Item>\n                )}\n            />\n\n                </Content>\n            </Layout>\n\n\n        )\n    }\n}\n\nexport default Explore;"]},"metadata":{},"sourceType":"module"}