{"ast":null,"code":"import _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/containers/NotificationMenu.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Dropdown, Icon, Button, Badge, List } from \"antd\";\nimport { connect } from \"react-redux\";\nvar gridStyle = {\n  textAlign: 'center'\n};\nvar data = ['One', 'Two', 'Three'];\nvar lists = React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(List, {\n  size: \"small\",\n  dataSource: data,\n  renderItem: function renderItem(item) {\n    return React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, item);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}));\n\nvar NotificationMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NotificationMenu, _React$Component);\n\n  function NotificationMenu(props) {\n    var _this;\n\n    _classCallCheck(this, NotificationMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NotificationMenu).call(this, props));\n\n    _this.handleClick = function (bookID, notifID) {\n      axios.delete(\"http://127.0.0.1:8000/notification/destroy/\".concat(notifID));\n\n      _this.props.history.push('/booklist/' + bookID);\n    };\n\n    _this.state = {\n      notifications: []\n    };\n    return _this;\n  }\n\n  _createClass(NotificationMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var profID = localStorage.getItem(\"profID\");\n      axios.get(\"http://127.0.0.1:8000/notification/\".concat(profID)).then(function (res) {\n        _this2.setState({\n          notifications: res.data,\n          length: res.data.length\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        overlay: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(List, {\n          size: \"small\",\n          bordered: true,\n          style: {\n            backgroundColor: '#555'\n          },\n          dataSource: this.state.notifications,\n          renderItem: function renderItem(item) {\n            return React.createElement(List.Item, {\n              onClick: function onClick() {\n                return _this3.handleClick(item.book, item.pk);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62\n              },\n              __self: this\n            }, item.text);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        })),\n        trigger: ['click'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Badge, {\n        count: this.state.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Button, {\n        ghost: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return NotificationMenu;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userid: state.userId\n  };\n};\n\nexport default NotificationMenu;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/containers/NotificationMenu.js"],"names":["React","axios","Dropdown","Icon","Button","Badge","List","connect","gridStyle","textAlign","data","lists","item","NotificationMenu","props","handleClick","bookID","notifID","delete","history","push","state","notifications","profID","localStorage","getItem","get","then","res","setState","length","catch","err","console","log","backgroundColor","book","pk","text","Component","mapStateToProps","userid","userId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Dropdown, Icon, Button, Badge, List } from \"antd\";\nimport { connect } from \"react-redux\";\n\nconst gridStyle = {\n    textAlign: 'center',\n  };\n\nconst data = [\n    'One',\n    'Two',\n    'Three'\n]\nconst lists = (\n    <div>\n        <List\n            size=\"small\"\n            dataSource={data}\n            renderItem={item => (<List.Item>{item}</List.Item>)}\n        />\n    </div>\n)\n\nclass NotificationMenu extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            notifications: []\n        };\n    }  \n\n    componentDidMount() {\n        const profID = localStorage.getItem(\"profID\");\n        axios.get(`http://127.0.0.1:8000/notification/${profID}`).then(res => {\n            this.setState({\n                notifications: res.data,\n                length: res.data.length\n            });\n            \n        })\n        .catch(err => console.log(err));\n    }\n\n    handleClick = (bookID, notifID) => {\n        axios.delete(`http://127.0.0.1:8000/notification/destroy/${notifID}`);\n        this.props.history.push('/booklist/'+bookID);\n    }\n\n    render() {\n        return (\n        <div>\n            <Dropdown overlay={\n                <div>\n                    <List \n                        size=\"small\"\n                        bordered\n                        style={{backgroundColor: '#555'}}\n                        dataSource = {this.state.notifications}\n                        renderItem = {item => ( \n                            <List.Item onClick={()=>this.handleClick(item.book, item.pk)}>{item.text}</List.Item>\n                            )}\n                    />\n                </div>\n            } trigger={['click']}>\n                <Badge count={this.state.length}>\n                    <div>\n                        <Button ghost>\n                            <Icon type=\"bell\" />\n                        </Button>\n                    </div>\n                </Badge>\n            </Dropdown>\n        </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userid: state.userId\n    };\n};\n\nexport default NotificationMenu;"]},"metadata":{},"sourceType":"module"}