{"ast":null,"code":"import _classCallCheck from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/logesh/cs307/PickaBook/frontend/gui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/logesh/cs307/PickaBook/frontend/gui/src/forms/ReviewForm.js\";\nimport React from 'react';\nimport { Form, Input, Button, Select, Rate, Col, Row, message } from 'antd';\nimport axios from 'axios';\nvar FormItem = Form.Item;\nvar TextArea = Input.TextArea;\nvar Option = Select.Option;\nvar desc = ['terrible', 'terrible', 'bad', 'bad', 'normal', 'normal', 'good', 'good', 'wonderful', 'wonderful'];\nvar desc2 = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n\nvar ProfileRegistrationForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfileRegistrationForm, _React$Component);\n\n  function ProfileRegistrationForm(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileRegistrationForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileRegistrationForm).call(this, props));\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      if (event.target.elements.title.value === \"\" || event.target.elements.review.value === \"\") {\n        _this.setState({\n          error: true\n        });\n\n        return;\n      }\n\n      var profID = localStorage.getItem(\"profID\");\n      var data = {\n        title: event.target.elements.title.value,\n        content: event.target.elements.review.value,\n        rating: _this.state.value,\n        prof: profID,\n        book: _this.props.bookID\n      };\n      console.log(data);\n      axios.post(\"http://127.0.0.1:8000/bookreview/create/\", data).then(function (res) {\n        _this.props.fetchReviews();\n      }).catch(function (error) {\n        return console.log(error);\n      }); //        this.props.history.push('/profile');\n    };\n\n    _this.handleChange = function (value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.ErrorMessage = function () {\n      message.error('Please Fill The Form Before Submitting!');\n\n      _this.setState({\n        error: false\n      });\n    };\n\n    _this.state = {\n      value: 3.0,\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(ProfileRegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var value = this.state.value;\n      var formItemLayout = {\n        labelCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 2\n          }\n        },\n        wrapperCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          }\n        }\n      };\n      var tailFormItemLayout = {\n        wrapperCol: {\n          xs: {\n            span: 24,\n            offset: 8\n          },\n          sm: {\n            span: 16,\n            offset: 8\n          }\n        }\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.error ? this.ErrorMessage() : React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(Form, {\n        layout: \"horizontal\",\n        onSubmit: function onSubmit(event) {\n          return _this2.handleFormSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({\n        label: \"Title\"\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(Input, {\n        name: \"title\",\n        placeholder: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Rate, {\n        allowHalf: true,\n        tooltips: desc2,\n        onChange: this.handleChange,\n        initialValue: 3.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), value ? React.createElement(\"span\", {\n        className: \"ant-rate-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, desc[this.state.value * 2 - 1]) : '')))), React.createElement(Row, {\n        gutter: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        label: \"Review\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        name: \"review\",\n        placeholder: \"Review\",\n        autosize: {\n          minRows: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })))), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Submit!\"))));\n    }\n  }]);\n\n  return ProfileRegistrationForm;\n}(React.Component);\n\nexport default ProfileRegistrationForm;","map":{"version":3,"sources":["/home/logesh/cs307/PickaBook/frontend/gui/src/forms/ReviewForm.js"],"names":["React","Form","Input","Button","Select","Rate","Col","Row","message","axios","FormItem","Item","TextArea","Option","desc","desc2","ProfileRegistrationForm","props","handleFormSubmit","event","preventDefault","target","elements","title","value","review","setState","error","profID","localStorage","getItem","data","content","rating","state","prof","book","bookID","console","log","post","then","res","fetchReviews","catch","handleChange","ErrorMessage","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","minRows","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button, Select, Rate, Col, Row, message } from 'antd';\n\nimport axios from 'axios';\n\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\nconst Option = Select.Option;\nconst desc = ['terrible', 'terrible', 'bad','bad', 'normal','normal', 'good','good', 'wonderful','wonderful'];\nconst desc2 = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n\n\nclass ProfileRegistrationForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { \n            value: 3.0,\n            error: false\n        };\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n        if( event.target.elements.title.value === \"\" || event.target.elements.review.value === \"\"){\n            this.setState({\n                error: true\n            });\n            return;\n        }\n\n        const profID = localStorage.getItem(\"profID\");\n        const data = {\n            title: event.target.elements.title.value,\n            content: event.target.elements.review.value,\n            rating: this.state.value,\n            prof: profID,\n            book: this.props.bookID\n        };\n        console.log(data)\n        axios.post(`http://127.0.0.1:8000/bookreview/create/`, data)\n        .then(res => {\n            this.props.fetchReviews();\n\n        })\n        .catch(error => console.log(error));\n//        this.props.history.push('/profile');\n    }\n\n    handleChange = (value) => {\n        this.setState({ value });\n    }\n\n    ErrorMessage = () =>  {\n        message.error('Please Fill The Form Before Submitting!');\n        this.setState({\n            error: false\n        })\n    }\n\n\n    render() {\n        const { value } = this.state;\n\n        const formItemLayout = {\n            labelCol: {\n              xs: { span: 24 },\n              sm: { span: 2 },\n            },\n            wrapperCol: {\n              xs: { span: 24 },\n              sm: { span: 16 },\n            },\n        };\n\n        const tailFormItemLayout = {\n            wrapperCol: {\n              xs: {\n                span: 24,\n                offset: 8,\n              },\n              sm: {\n                span: 16,\n                offset: 8,\n              },\n            },\n        };\n\n        return (\n            <div>\n                {this.state.error ?\n                    this.ErrorMessage()\n                    :\n                    <b></b>\n                }\n                <Form layout=\"horizontal\" onSubmit={(event) => this.handleFormSubmit(\n                    event,\n                )}>\n                    <Row gutter={20} >\n                    <Col span={12}>\n                        <FormItem label=\"Title\" {...formItemLayout}>\n                            <Input name=\"title\" placeholder=\"Title\" />\n                        </FormItem>\n                    </Col>\n\n                    \n                    <Col span={6}>\n                    <FormItem >\n                    <span>\n                        <Rate allowHalf tooltips={desc2} onChange={this.handleChange} initialValue={3.5} />\n                        {value ? <span className=\"ant-rate-text\">{desc[this.state.value*2 - 1]}</span> : ''}\n                    </span>\n                    </FormItem>\n                    </Col>\n                    </Row>\n                    \n                    \n                    <Row gutter={20} >\n                    <Col span={18} >\n                    <FormItem label=\"Review\" >\n                        <TextArea name=\"review\" placeholder=\"Review\" autosize={{minRows: 2}} />\n                    </FormItem>\n                    </Col>\n                    </Row>\n                    \n\n                    <FormItem>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Submit!\n                        </Button>\n                    </FormItem>\n\n                </Form>\n            </div>\n        );\n    }\n}\n\n\nexport default ProfileRegistrationForm;"]},"metadata":{},"sourceType":"module"}